<!doctype html><html lang=en-gb><head><meta charset=utf-8><meta name=viewport content="width=device-width"><script type=application/javascript src=https://stephenc.github.io/js/theme-mode.js></script><link rel=stylesheet href=https://stephenc.github.io/css/frameworks.min.css><link rel=stylesheet href=https://stephenc.github.io/css/github.min.css><link rel=stylesheet href=https://stephenc.github.io/css/github-style.css><link rel=stylesheet href=https://stephenc.github.io/css/light.css><link rel=stylesheet href=https://stephenc.github.io/css/dark.css><link rel=stylesheet href=https://stephenc.github.io/css/syntax.css><title>When a Kubernetes Operator Makes Sense - Stephen's technical blog</title><link rel=icon type=image/x-icon href=https://stephenc.github.io/images/favicon.ico><meta name=theme-color content="#1e2327"><meta name=description content="When a Kubernetes Operator Makes Sense Beyond YAML: Real-World Lessons from Managing Complex Infrastructure There are plenty of ways to deploy applications onto Kubernetes:
raw kubectl apply Kustomize overlays Helm charts sidecars and init containers and, at the far end of the spectrum, fully-fledged operators Most teams start at the simple end and stay there. And they should, most applications don’t need anything more complicated than a Deployment, a few ConfigMaps, and a kubectl apply -k.
"><meta name=keywords content='blog'><meta name=robots content="noodp"><link rel=canonical href=https://stephenc.github.io/post/2025-11-18-when-a-kubernetes-operator-makes-sense/><meta name=twitter:card content="summary"><meta name=twitter:title content="When a Kubernetes Operator Makes Sense - Stephen's technical blog"><meta name=twitter:description content="When a Kubernetes Operator Makes Sense Beyond YAML: Real-World Lessons from Managing Complex Infrastructure There are plenty of ways to deploy applications onto Kubernetes:
raw kubectl apply Kustomize overlays Helm charts sidecars and init containers and, at the far end of the spectrum, fully-fledged operators Most teams start at the simple end and stay there. And they should, most applications don’t need anything more complicated than a Deployment, a few ConfigMaps, and a kubectl apply -k.
"><meta name=twitter:site content="https://stephenc.github.io/"><meta name=twitter:creator content><meta name=twitter:image content="https://stephenc.github.io/"><meta property="og:type" content="article"><meta property="og:title" content="When a Kubernetes Operator Makes Sense - Stephen's technical blog"><meta property="og:description" content="When a Kubernetes Operator Makes Sense Beyond YAML: Real-World Lessons from Managing Complex Infrastructure There are plenty of ways to deploy applications onto Kubernetes:
raw kubectl apply Kustomize overlays Helm charts sidecars and init containers and, at the far end of the spectrum, fully-fledged operators Most teams start at the simple end and stay there. And they should, most applications don’t need anything more complicated than a Deployment, a few ConfigMaps, and a kubectl apply -k.
"><meta property="og:url" content="https://stephenc.github.io/post/2025-11-18-when-a-kubernetes-operator-makes-sense/"><meta property="og:site_name" content="When a Kubernetes Operator Makes Sense"><meta property="og:image" content="https://stephenc.github.io/"><meta property="og:image:width" content="2048"><meta property="og:image:height" content="1024"><meta property="article:published_time" content="2025-11-18 12:00:00 +0000 UTC"></head><body><div style=position:relative><header class="Header js-details-container Details px-3 px-md-4 px-lg-5 flex-wrap flex-md-nowrap open Details--on"><div class="Header-item mobile-none" style=margin-top:-4px;margin-bottom:-4px><a class=Header-link href=https://stephenc.github.io/><img class=octicon height=32 width=32 src=/images/top-icon.png></a></div><div class="Header-item d-md-none"><button class="Header-link btn-link js-details-target" type=button onclick='document.querySelector("#header-search").style.display=document.querySelector("#header-search").style.display=="none"?"block":"none"'>
<svg height="24" class="octicon octicon-three-bars" viewBox="0 0 16 16" width="24"><path fill-rule="evenodd" d="M1 2.75A.75.75.0 011.75 2h12.5a.75.75.0 110 1.5H1.75A.75.75.0 011 2.75zm0 5A.75.75.0 011.75 7h12.5a.75.75.0 110 1.5H1.75A.75.75.0 011 7.75zM1.75 12a.75.75.0 100 1.5h12.5a.75.75.0 100-1.5H1.75z"/></svg></button></div><div style=display:none id=header-search class="Header-item Header-item--full flex-column flex-md-row width-full flex-order-2 flex-md-order-none mr-0 mr-md-3 mt-3 mt-md-0 Details-content--hidden-not-important d-md-flex"><div class="Header-search header-search flex-auto js-site-search position-relative flex-self-stretch flex-md-self-auto mb-3 mb-md-0 mr-0 mr-md-3 scoped-search site-scoped-search js-jump-to"><div class=position-relative><form target=_blank id=search-form accept-charset=UTF-8 method=get autocomplete=off><label class="Header-search-label form-control input-sm header-search-wrapper p-0 js-chromeless-input-container header-search-wrapper-jump-to position-relative d-flex flex-justify-between flex-items-center"><input type=text class="Header-search-input form-control input-sm header-search-input jump-to-field js-jump-to-field js-site-search-focus js-site-search-field is-clearable" name=q placeholder=Search autocomplete=off></label></form></div></div></div><div class="Header-item Header-item--full flex-justify-center d-md-none position-relative"><a class=Header-link href=https://stephenc.github.io/><img class="octicon octicon-mark-github v-align-middle" height=32 width=32 src=/images/top-icon.png></a></div><div class=Header-item style=margin-right:0><a href=javascript:void(0) class="Header-link no-select" onclick=switchTheme()><svg style="fill:var(--color-profile-color-modes-toggle-moon)" class="no-select" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.52208 7.71754c3.05612.0 5.53362-2.47748 5.53362-5.5336C10.0557 1.93498 10.0392 1.68986 10.0074 1.44961 9.95801 1.07727 10.3495.771159 10.6474.99992c1.4679 1.12724 2.4141 2.90007 2.4141 4.89391.0 3.40575-2.7609 6.16667-6.16665 6.16667-2.94151.0-5.40199-2.0595-6.018122-4.81523C.794841 6.87902 1.23668 6.65289 1.55321 6.85451 2.41106 7.40095 3.4296 7.71754 4.52208 7.71754z"/></svg></a></div></header></div><div id=search-result class="container-lg px-3 new-discussion-timeline" style=display:none></div><div class=application-main><div><main><div class="gisthead pagehead bg-gray-light pb-0 pt-3 mb-4"><div class=px-0><div class="mb-3 d-flex px-3 px-md-3 px-lg-5"><div class="flex-auto min-width-0 width-fit mr-3"><div class=d-flex><div class="d-none d-md-block"><a class="avatar mr-2 flex-shrink-0" href=https://stephenc.github.io/><img class=avatar-user src=/images/avatar.jpg width=32 height=32></a></div><div class="d-flex flex-column"><h1 class="break-word f3 text-normal mb-md-0 mb-1"><span class=author><a href=https://stephenc.github.io/>Stephen Connolly</a>
</span><span class=path-divider>/</span>
<strong class="css-truncate css-truncate-target mr-1" style=max-width:410px><a href=https://stephenc.github.io/post/2025-11-18-when-a-kubernetes-operator-makes-sense/>When a Kubernetes Operator Makes Sense</a></strong></h1><div class="note m-0">Created <relative-time datetime="Tue, 18 Nov 2025 12:00:00 +0000" class=no-wrap>Tue, 18 Nov 2025 12:00:00 +0000</relative-time>
<span class=file-info-divider></span>
Modified <relative-time datetime="Tue, 18 Nov 2025 12:00:00 +0000" class=no-wrap>Tue, 18 Nov 2025 12:00:00 +0000</relative-time></div></div></div></div></div></div></div><div class="container-lg px-3 new-discussion-timeline"><div class="repository-content gist-content"><div><div class="js-gist-file-update-container js-task-list-container file-box"><div id=file-pytest class="file my-2"><div id=post-header class="file-header d-flex flex-md-items-center flex-items-start sticky-header" style=z-index:2><div class="file-info d-flex flex-md-items-center flex-items-start flex-order-1 flex-auto"><div class="text-mono f6 flex-auto pr-3 flex-order-2 flex-md-order-1 mt-2 mt-md-0"><summary id=toc-toggle onclick=clickToc() class="btn btn-octicon m-0 mr-2 p-2"><svg aria-hidden="true" viewBox="0 0 16 16" height="16" width="16" class="octicon octicon-list-unordered"><path fill-rule="evenodd" d="M2 4a1 1 0 100-2 1 1 0 000 2zm3.75-1.5a.75.75.0 000 1.5h8.5a.75.75.0 000-1.5h-8.5zm0 5a.75.75.0 000 1.5h8.5a.75.75.0 000-1.5h-8.5zm0 5a.75.75.0 000 1.5h8.5a.75.75.0 000-1.5h-8.5zM3 8A1 1 0 111 8a1 1 0 012 0zm-1 6a1 1 0 100-2 1 1 0 000 2z"/></svg></summary><details-menu class=SelectMenu id=toc-details style="display: none;"><div class="SelectMenu-modal rounded-3 mt-1" style=max-height:340px><div class="SelectMenu-list SelectMenu-list--borderless p-2" style=overscroll-behavior:contain id=toc-list></div></div></details-menu>1290 Words</div><div class="file-actions flex-order-2 pt-0"><a class="muted-link mr-3" href=/tags/kubernetes><svg class="octicon octicon-tag" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M2.5 7.775V2.75a.25.25.0 01.25-.25h5.025a.25.25.0 01.177.073l6.25 6.25a.25.25.0 010 .354l-5.025 5.025a.25.25.0 01-.354.0l-6.25-6.25A.25.25.0 012.5 7.775zm-1.5.0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464.0.91.184 1.238.513l6.25 6.25a1.75 1.75.0 010 2.474l-5.026 5.026a1.75 1.75.0 01-2.474.0l-6.25-6.25A1.75 1.75.0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z"/></svg>
kubernetes
</a><a class="muted-link mr-3" href=/tags/operator-pattern><svg class="octicon octicon-tag" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M2.5 7.775V2.75a.25.25.0 01.25-.25h5.025a.25.25.0 01.177.073l6.25 6.25a.25.25.0 010 .354l-5.025 5.025a.25.25.0 01-.354.0l-6.25-6.25A.25.25.0 012.5 7.775zm-1.5.0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464.0.91.184 1.238.513l6.25 6.25a1.75 1.75.0 010 2.474l-5.026 5.026a1.75 1.75.0 01-2.474.0l-6.25-6.25A1.75 1.75.0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z"/></svg>
operator-pattern
</a><a class="muted-link mr-3" href=/tags/vault><svg class="octicon octicon-tag" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M2.5 7.775V2.75a.25.25.0 01.25-.25h5.025a.25.25.0 01.177.073l6.25 6.25a.25.25.0 010 .354l-5.025 5.025a.25.25.0 01-.354.0l-6.25-6.25A.25.25.0 012.5 7.775zm-1.5.0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464.0.91.184 1.238.513l6.25 6.25a1.75 1.75.0 010 2.474l-5.026 5.026a1.75 1.75.0 01-2.474.0l-6.25-6.25A1.75 1.75.0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z"/></svg>
vault
</a><a class="muted-link mr-3" href=/tags/devops><svg class="octicon octicon-tag" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M2.5 7.775V2.75a.25.25.0 01.25-.25h5.025a.25.25.0 01.177.073l6.25 6.25a.25.25.0 010 .354l-5.025 5.025a.25.25.0 01-.354.0l-6.25-6.25A.25.25.0 012.5 7.775zm-1.5.0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464.0.91.184 1.238.513l6.25 6.25a1.75 1.75.0 010 2.474l-5.026 5.026a1.75 1.75.0 01-2.474.0l-6.25-6.25A1.75 1.75.0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z"/></svg>
devops
</a><a class="muted-link mr-3" href=/tags/platform-engineering><svg class="octicon octicon-tag" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M2.5 7.775V2.75a.25.25.0 01.25-.25h5.025a.25.25.0 01.177.073l6.25 6.25a.25.25.0 010 .354l-5.025 5.025a.25.25.0 01-.354.0l-6.25-6.25A.25.25.0 012.5 7.775zm-1.5.0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464.0.91.184 1.238.513l6.25 6.25a1.75 1.75.0 010 2.474l-5.026 5.026a1.75 1.75.0 01-2.474.0l-6.25-6.25A1.75 1.75.0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z"/></svg>
platform-engineering</a></div></div></div><div class="Box-body px-5 pb-5" style=z-index:1><article class="markdown-body entry-content container-lg"><h1 id=when-a-kubernetes-operator-makes-sense>When a Kubernetes Operator Makes Sense</h1><p><img src=/images/post/2025-11-18-when-a-kubernetes-operator-makes-sense.png alt="Simplifying a tangled mess with a Kubernetes Operator"></p><h2 id=beyond-yaml-real-world-lessons-from-managing-complex-infrastructure>Beyond YAML: Real-World Lessons from Managing Complex Infrastructure</h2><p>There are plenty of ways to deploy applications onto Kubernetes:</p><ul><li>raw <code>kubectl apply</code></li><li>Kustomize overlays</li><li>Helm charts</li><li>sidecars and init containers</li><li>and, at the far end of the spectrum, fully-fledged operators</li></ul><p>Most teams start at the simple end and stay there. And they should, most applications don’t need anything more complicated than a Deployment, a few ConfigMaps, and a <code>kubectl apply -k</code>.</p><p>But over the last few years building and operating platforms for distributed systems, secrets management, and internal PaaS primitives, I’ve learned a consistent pattern:</p><blockquote><p><strong>If you find yourself orchestrating multi-step lifecycle logic with scripts, sidecars, or tribal knowledge, you’re already halfway to writing an operator — whether you mean to or not.</strong></p></blockquote><p>In this post, I outline when an operator genuinely makes sense, using one of the clearest real-world cases I’ve worked with: <strong>running and operating Vault</strong> inside Kubernetes.</p><h2 id=the-limits-of-yaml-sidecars-and-good-intentions>The Limits of YAML, Sidecars, and Good Intentions</h2><p>Kubernetes gives you powerful declarative primitives, but those primitives assume your application behaves like a stateless, idempotent component. In practice, many systems don’t.</p><p>Teams often try to bridge the gap with tools like:</p><ul><li>init containers</li><li>sidecar containers</li><li>Helm hooks</li><li>bash scripts baked into container entrypoints</li></ul><p>These techniques work when the lifecycle is simple: “run this once, then start the app.”
But they fall apart completely when the application behaves like a <strong>state machine</strong> rather than a simple process.</p><p>Vault is the poster child for this.</p><h2 id=case-study-vaults-lifecycle-doesnt-fit-the-pod-lifecycle>Case Study: Vault’s Lifecycle Doesn’t Fit the Pod Lifecycle</h2><p>Vault is incredibly powerful — but it has distinct operational states:</p><ul><li>uninitialised</li><li>initialised but sealed</li><li>unsealed</li><li>leader</li><li>follower</li><li>resealed on restart</li><li>expiring leases</li><li>privileged configuration requiring root-level access</li></ul><p>None of that behaviour maps cleanly onto a <code>Deployment</code> or <code>StatefulSet</code>. And for a while, the SRE team supporting our Vault deployments tried to glue the lifecycle together using init scripts and sidecars.</p><p>It was unreliable. And unavoidably so. While the SRE team heros could keep our SaaS instance working, the problems really started to surface when the product was deployed in dedicated VPC instances for bigger customers.</p><ol><li><p><strong>Initialisation isn’t idempotent</strong></p><p><code>vault operator init</code> must run <em>exactly once</em>, on one node, and only when the cluster is uninitialised.
If a script guesses wrong, it bricks the cluster.</p><p>Operators excel here because they can read application state, maintain a shared control loop, and encode an idempotent workflow.</p></li><li><p><strong>Pods don’t share memory — but Vault has shared state</strong></p><p>Sidecars run <strong>once per pod</strong>, but Vault’s state is <strong>cluster-wide</strong>.
Coordinating initialisation, unseal operations, and failover across replicas cannot be expressed through pod-local logic.</p><p>An operator, running as a single control plane component, can coordinate safely.</p></li><li><p><strong>Multi-step workflows don’t belong in bash</strong></p><p>A simplified lifecycle of a Vault cluster:</p><ol><li>Detect initialisation state</li><li>Initialise (once) if required</li><li>Store unseal keys safely</li><li>Unseal nodes one by one</li><li>Detect restarts</li><li>Re-unseal automatically</li><li>Reconcile mounts, roles, and policies</li><li>Rotate secrets</li><li>Maintain downstream K8s access tokens</li><li>Back up and restore data selectively</li></ol><p>Trying to express this via init scripts and pod startup timing is brittle and unsafe.</p></li><li><p><strong>Failures are domain-specific, not pod-specific</strong></p><p>“Sealed” is not “crashed.”
Vault failures require domain-aware remediation, not generic liveness probes.</p><p>Operators can interpret domain faults and take domain-correct actions.</p></li></ol><link rel=stylesheet href=/css/vendors/admonitions.4fd9a0b8ec8899f2ca952048d255a569f433f77dfb3f52f5bc87e7d65cdce449.css integrity="sha256-T9mguOyImfLKlSBI0lWlafQz9337P1L1vIfn1lzc5Ek=" crossorigin=anonymous><div class="admonition example"><div class=admonition-header><svg viewBox="0 0 640 512"><path d="M192 96a48 48 0 100-96 48 48 0 100 96zm-8 384V352h16v128c0 17.7 14.3 32 32 32s32-14.3 32-32V192h56 64 16c17.7.0 32-14.3 32-32s-14.3-32-32-32h-16V64h192v192H384v-32h-64v48c0 26.5 21.5 48 48 48h224c26.5.0 48-21.5 48-48V48c0-26.5-21.5-48-48-48H368c-26.5.0-48 21.5-48 48v80h-76.9-65.9c-33.7.0-64.9 17.7-82.3 46.6l-58.3 97c-9.1 15.1-4.2 34.8 10.9 43.9s34.8 4.2 43.9-10.9L120 256.9V480c0 17.7 14.3 32 32 32s32-14.3 32-32z"/></svg>
<span>Example</span></div><div class=admonition-content><p><em>A Real-World Example of Why Scripts Fail: The “Replica Index Hack”</em></p><p>One of the clearest signs the approach had gone too far was a clever — and unintentionally hilarious — hack I encountered.</p><p>To prevent every pod from attempting initialisation, the team leaned on this logic:</p><ul><li><p>Vault pods in a StatefulSet get predictable names: <code>vault-0</code>, <code>vault-1</code>, …</p></li><li><p>Helm passes <code>replicaCount</code> into the container.</p></li><li><p>The init script would:</p><ul><li>Parse its own index</li><li>Compare it to <code>replicaCount - 1</code></li><li>If it was the “last” pod, assume the others were up</li><li>Attempt initialisation</li><li>Have all other pods skip</li></ul></li></ul><p>In other words:</p><blockquote><p><strong>“Use pod index order and hope Kubernetes starts pods in sequence.”</strong></p></blockquote><p>Of course:</p><ul><li>Kubernetes makes <em>no guarantee</em> about pod startup order</li><li>Restarted pods break assumptions</li><li>A “last” pod can start <em>first</em> after rescheduling</li><li>Node drains or autoscaling resets the whole hack</li></ul><p>This was an accidental reinvention of a distributed coordination protocol using naming conventions and timing.</p><p>And it failed exactly when you’d expect it to.</p></div></div><p>This was the moment it became clear: we needed a <strong>real controller</strong>.</p><h2 id=evaluating-open-source-vault-operators>Evaluating Open-Source Vault Operators</h2><p>Before building anything, we evaluated the existing ecosystem:</p><ul><li><p>HashiCorp Vault Secrets Operator</p><p>Great for syncing secrets <em>downstream</em> into Kubernetes Secrets.
<strong>Not designed for managing Vault itself</strong>, nor for initialisation/unseal logic.</p></li><li><p>KubeVault (AppsCode)</p><p>A more complete lifecycle solution, but opinionated and not compatible with our custom bootstrap requirements, existing tooling, and security model.</p></li><li><p>Others</p><p>Similar limitations — focused on secret consumption, not cluster lifecycle, privileged config, or platform integration.</p></li></ul><p><strong>None addressed our core needs:</strong></p><ul><li>lifecycle orchestration</li><li>custom initialisation</li><li>controlled privileged operations</li><li>direct app authentication</li><li>integration with our existing IAM and KMS architecture</li><li>some other needs related to our VPC and SaaS deployment models</li></ul><p>This wasn’t a case of reinventing the wheel, the wheel we needed didn’t exist.</p><p>That’s when the operator became the obvious path forward.</p><h2 id=how-i-secured-root-credentials-aws-secrets-manager--irsa>How I Secured Root Credentials: AWS Secrets Manager + IRSA</h2><p>One major design requirement was that <strong>no human</strong> and <strong>no pod except the operator</strong> should ever see:</p><ul><li>Vault initialisation seeds</li><li>unseal keys</li><li>the root token</li></ul><p>I solved this with a combination of AWS Secrets Manager and IAM Roles for Service Accounts (IRSA):</p><ul><li><p><em>Storage</em></p><ul><li>The operator stored the seeds and unseal keys in <strong>AWS Secrets Manager</strong> during initialisation.</li><li>Kubernetes never held these secrets at rest.</li></ul></li><li><p><em>Access Control</em></p><ul><li>The operator ran under a dedicated Kubernetes ServiceAccount.</li><li>That ServiceAccount was mapped to a locked-down IAM role using IRSA.</li><li>That IAM role had the <em>only</em> permissions to access the specific secrets in Secrets Manager.</li></ul></li><li><p><em>Operational Flow</em></p><ol><li><p>A platform/team user creates a CRD (e.g., <code>VaultBackup</code>, <code>VaultConfigChange</code>, <code>VaultUnseal</code>).</p></li><li><p>Kubernetes RBAC determines who can create which CRDs.</p></li><li><p>The operator watches the CRD and:</p><ul><li>Assumes its IAM role</li><li>Fetches the required seeds/keys from AWS Secrets Manager</li><li>Performs the privileged operation</li><li>Discards the credentials</li></ul></li><li><p>The operator updates the CRD <code>status</code> for audit and visibility.</p></li></ol></li></ul><p>This pattern gave us:</p><ul><li>Zero exposure of root keys</li><li>Full AWS audit logs</li><li>Zero trust of pods</li><li>Simple RBAC for safe delegation</li><li>Compliance-friendly credential handling</li></ul><h2 id=when-you-know-its-operator-time>When You Know It’s Operator Time</h2><p>Here’s the checklist I now rely on:</p><ul><li><p><input checked disabled type=checkbox> Initialisation requires conditional or multi-step logic</p></li><li><p><input checked disabled type=checkbox> The system has meaningful runtime states</p></li><li><p><input checked disabled type=checkbox> You must reconcile external state with Kubernetes</p></li><li><p><input checked disabled type=checkbox> You need domain-aware healing, not restarts</p></li><li><p><input checked disabled type=checkbox> Privileged operations need safe delegation</p></li><li><p><input checked disabled type=checkbox> Teams are writing bash scripts to automate lifecycle logic</p></li></ul><p>Any one of these can justify an operator.
All of them together make it unavoidable.</p><h2 id=final-thoughts>Final Thoughts</h2><p>Most systems don’t need operators.
But the ones that do… <em>really</em> do.</p><p>When applications have rich state models, privileged operations, or complex orchestration sequences, Kubernetes’ built-in controllers aren’t enough. Operators allow you to encode operational knowledge where it belongs: in code, with guardrails, observability, and repeatability.</p><p>For us, Vault was one of those systems.
And moving from fragile init scripts and hacks to a robust operator architecture turned it into a reliable, secure platform service.</p><p>If you find yourself debugging the same lifecycle script for the tenth time, or relying on pod index order as a coordination mechanism, that’s your signal:
<strong>you’re EITHER fighting the platform <em>OR</em> it’s time to extend it.</strong></p><h2 id=where-to-start>Where to Start?</h2><p>If this article resonates with you, it might be time to explore the ecosystem. Look into frameworks that simplify the development process:</p><ul><li><p><a href=https://book.kubebuilder.io/>Kubebuilder</a>: The standard for building operators with Go.</p></li><li><p><a href=https://sdk.operatorframework.io/>Operator SDK</a>: Provides more scaffolding and support for different languages, including Ansible and Helm.</p></li></ul><p>Start by modeling one small, painful piece of your application&rsquo;s lifecycle as a Custom Resource Definition (CRD). You don&rsquo;t have to build the entire controller at once.</p></article></div></div></div></div></div></div></main></div><script type=application/javascript src=https://stephenc.github.io/js/toc.js></script><link rel=stylesheet href=https://stephenc.github.io/css/toc.css></div><div class="footer container-xl width-full p-responsive"><div class="position-relative d-flex flex-row-reverse flex-lg-row flex-wrap flex-lg-nowrap flex-justify-center flex-lg-justify-between flex-sm-items-center pt-6 pb-2 mt-6 f6 text-gray border-top border-gray-light"><a aria-label=Homepage title=GitHub class="footer-octicon d-none d-lg-block mr-lg-4" href=https://stephenc.github.io/><svg height="24" class="octicon octicon-mark-github" viewBox="0 0 16 16" width="24"><path fill-rule="evenodd" d="M8 0C3.58.0.0 3.58.0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38.0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95.0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12.0.0.67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15.0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48.0 1.07-.01 1.93-.01 2.2.0.21.15.46.55.38A8.013 8.013.0 0016 8c0-4.42-3.58-8-8-8z"/></svg></a><ul class="list-style-none d-flex flex-wrap col-12 flex-justify-center flex-lg-justify-between mb-2 mb-lg-0"><li class="mr-3 mr-lg-0">Theme by <a href=https://github.com/MeiK2333/github-style>github-style</a></li><li class="mr-3 mr-lg-0">GitHub and the Invertocat logo are trademarks of <a href=https://github.com/>GitHub, Inc.</a></li></ul></div><div class="d-flex flex-justify-center pb-6"><span class="f6 text-gray-light"></span></div></div><div id=cookie-consent-banner style="display:none;position:fixed;bottom:0;left:0;right:0;background:#333;color:#fff;padding:15px;text-align:center;z-index:9999;box-shadow:0 -2px 10px rgba(0,0,0,.3)"><div style="max-width:1200px;margin:0 auto"><p style="margin:0 0 10px;font-size:14px">This website uses Google Analytics to help analyze how visitors use this site. By continuing to browse this site, you agree to this use.
<a href=# style=color:#4caf50;text-decoration:underline onclick="return showCookieDetails(),!1">Learn more</a></p><div><button onclick=acceptCookies() style="background:#4caf50;color:#fff;border:none;padding:8px 16px;margin:0 5px;cursor:pointer;border-radius:4px">Accept</button>
<button onclick=declineCookies() style="background:#f44336;color:#fff;border:none;padding:8px 16px;margin:0 5px;cursor:pointer;border-radius:4px">Decline</button></div></div></div><div id=cookie-details-modal style=display:none;position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.5);z-index:10000><div style=position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:#fff;padding:20px;border-radius:8px;max-width:500px;width:90%><h3 style=margin-top:0>Cookie Information</h3><p>This website uses Google Analytics, which uses cookies to collect anonymous information about how visitors use this site. This information is used to improve the website experience.</p><p><strong>What data is collected:</strong></p><ul><li>Pages visited and time spent on pages</li><li>How you arrived at the site</li><li>General location (country/city level)</li><li>Device and browser information</li></ul><p>No personally identifiable information is collected. You can opt out at any time by declining cookies.</p><button onclick=hideCookieDetails() style="background:#2196f3;color:#fff;border:none;padding:8px 16px;cursor:pointer;border-radius:4px">Close</button></div></div><script>function getCookieConsent(){return localStorage.getItem("cookieConsent")}function setCookieConsent(e){localStorage.setItem("cookieConsent",e)}function loadGoogleAnalytics(){var t,e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-CEQZZXVE7Q",document.head.appendChild(e),t=document.createElement("script"),t.innerHTML=`
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-CEQZZXVE7Q', {
        anonymize_ip: true,
        cookie_flags: 'SameSite=None;Secure'
      });
    `,document.head.appendChild(t)}function acceptCookies(){setCookieConsent("accepted"),document.getElementById("cookie-consent-banner").style.display="none",loadGoogleAnalytics()}function declineCookies(){setCookieConsent("declined"),document.getElementById("cookie-consent-banner").style.display="none"}function showCookieDetails(){document.getElementById("cookie-details-modal").style.display="block"}function hideCookieDetails(){document.getElementById("cookie-details-modal").style.display="none"}document.addEventListener("DOMContentLoaded",function(){var e=getCookieConsent();e==="accepted"?loadGoogleAnalytics():e==="declined"||(document.getElementById("cookie-consent-banner").style.display="block")})</script></body><script type=application/javascript src=https://stephenc.github.io/js/github-style.js></script><script src=https://cdn.jsdelivr.net/npm/fuse.js/dist/fuse.min.js></script><script type=application/javascript src=https://stephenc.github.io/js/search.js></script></html>