<!doctype html><html lang=en-gb><head><meta charset=utf-8><meta name=viewport content="width=device-width"><script type=application/javascript src=https://stephenc.github.io/js/theme-mode.js></script><link rel=stylesheet href=https://stephenc.github.io/css/frameworks.min.css><link rel=stylesheet href=https://stephenc.github.io/css/github.min.css><link rel=stylesheet href=https://stephenc.github.io/css/github-style.css><link rel=stylesheet href=https://stephenc.github.io/css/light.css><link rel=stylesheet href=https://stephenc.github.io/css/dark.css><link rel=stylesheet href=https://stephenc.github.io/css/syntax.css><title>Posts - Stephen's technical blog</title><link rel=icon type=image/x-icon href=https://stephenc.github.io/images/favicon.ico><meta name=theme-color content="#1e2327"><meta name=description content><meta name=keywords content='blog'><meta name=robots content="noodp"><link rel=canonical href=https://stephenc.github.io/post/><meta name=twitter:card content="summary"><meta name=twitter:title content="Posts - Stephen's technical blog"><meta name=twitter:description content><meta name=twitter:site content="https://stephenc.github.io/"><meta name=twitter:creator content><meta name=twitter:image content="https://stephenc.github.io/"><meta property="og:type" content="website"><meta property="og:title" content="Posts - Stephen's technical blog"><meta property="og:description" content><meta property="og:url" content="https://stephenc.github.io/post/"><meta property="og:site_name" content="Posts"><meta property="og:image" content="https://stephenc.github.io/"><meta property="og:image:width" content="2048"><meta property="og:image:height" content="1024"><link href=/post/index.xml rel=alternate type=application/rss+xml title="Stephen's technical blog"></head><body><div style=position:relative><header class="Header js-details-container Details px-3 px-md-4 px-lg-5 flex-wrap flex-md-nowrap open Details--on"><div class="Header-item mobile-none" style=margin-top:-4px;margin-bottom:-4px><a class=Header-link href=https://stephenc.github.io/><img class=octicon height=32 width=32 src=/images/top-icon.png></a></div><div class="Header-item d-md-none"><button class="Header-link btn-link js-details-target" type=button onclick='document.querySelector("#header-search").style.display=document.querySelector("#header-search").style.display=="none"?"block":"none"'>
<svg height="24" class="octicon octicon-three-bars" viewBox="0 0 16 16" width="24"><path fill-rule="evenodd" d="M1 2.75A.75.75.0 011.75 2h12.5a.75.75.0 110 1.5H1.75A.75.75.0 011 2.75zm0 5A.75.75.0 011.75 7h12.5a.75.75.0 110 1.5H1.75A.75.75.0 011 7.75zM1.75 12a.75.75.0 100 1.5h12.5a.75.75.0 100-1.5H1.75z"/></svg></button></div><div style=display:none id=header-search class="Header-item Header-item--full flex-column flex-md-row width-full flex-order-2 flex-md-order-none mr-0 mr-md-3 mt-3 mt-md-0 Details-content--hidden-not-important d-md-flex"><div class="Header-search header-search flex-auto js-site-search position-relative flex-self-stretch flex-md-self-auto mb-3 mb-md-0 mr-0 mr-md-3 scoped-search site-scoped-search js-jump-to"><div class=position-relative><form target=_blank id=search-form accept-charset=UTF-8 method=get autocomplete=off><label class="Header-search-label form-control input-sm header-search-wrapper p-0 js-chromeless-input-container header-search-wrapper-jump-to position-relative d-flex flex-justify-between flex-items-center"><input type=text class="Header-search-input form-control input-sm header-search-input jump-to-field js-jump-to-field js-site-search-focus js-site-search-field is-clearable" name=q placeholder=Search autocomplete=off></label></form></div></div></div><div class="Header-item Header-item--full flex-justify-center d-md-none position-relative"><a class=Header-link href=https://stephenc.github.io/><img class="octicon octicon-mark-github v-align-middle" height=32 width=32 src=/images/top-icon.png></a></div><div class=Header-item style=margin-right:0><a href=javascript:void(0) class="Header-link no-select" onclick=switchTheme()><svg style="fill:var(--color-profile-color-modes-toggle-moon)" class="no-select" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.52208 7.71754c3.05612.0 5.53362-2.47748 5.53362-5.5336C10.0557 1.93498 10.0392 1.68986 10.0074 1.44961 9.95801 1.07727 10.3495.771159 10.6474.99992c1.4679 1.12724 2.4141 2.90007 2.4141 4.89391.0 3.40575-2.7609 6.16667-6.16665 6.16667-2.94151.0-5.40199-2.0595-6.018122-4.81523C.794841 6.87902 1.23668 6.65289 1.55321 6.85451 2.41106 7.40095 3.4296 7.71754 4.52208 7.71754z"/></svg></a></div></header></div><div id=search-result class="container-lg px-3 new-discussion-timeline" style=display:none></div><div class=application-main><div class="mt-4 position-sticky top-0 d-none d-md-block bg-white width-full border-bottom color-border-secondary" style=z-index:3><div class="container-xl px-3 px-md-4 px-lg-5"><div class="gutter-condensed gutter-lg flex-column flex-md-row d-flex"><div class="flex-shrink-0 col-12 col-md-3 mb-4 mb-md-0"></div><div class="flex-shrink-0 col-12 col-md-9 mb-4 mb-md-0"><div class="UnderlineNav width-full box-shadow-none hx_UnderlineNav-with-profile-color-modes-banner"><nav class=UnderlineNav-body><a class=UnderlineNav-item href=https://stephenc.github.io/><svg class="octicon octicon-book UnderlineNav-octicon hide-sm" height="16" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M0 1.75A.75.75.0 01.75 1h4.253c1.227.0 2.317.59 3 1.501A3.744 3.744.0 0111.006 1h4.245a.75.75.0 01.75.75v10.5a.75.75.0 01-.75.75h-4.507a2.25 2.25.0 00-1.591.659l-.622.621a.75.75.0 01-1.06.0l-.622-.621A2.25 2.25.0 005.258 13H.75A.75.75.0 010 12.25V1.75zm8.755 3a2.25 2.25.0 012.25-2.25H14.5v9h-3.757c-.71.0-1.4.201-1.992.572l.004-7.322zm-1.504 7.324.004-5.073-.002-2.253A2.25 2.25.0 005.003 2.5H1.5v9h3.757a3.75 3.75.0 011.994.574z"/></svg>
Overview
</a><a class="UnderlineNav-item selected" href=https://stephenc.github.io/post><svg class="octicon octicon-repo UnderlineNav-octicon hide-sm" height="16" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M2 2.5A2.5 2.5.0 014.5.0h8.75a.75.75.0 01.75.75v12.5a.75.75.0 01-.75.75h-2.5a.75.75.0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75.0 01-1.072 1.05A2.495 2.495.0 012 11.5v-9zm10.5-1V9h-8c-.356.0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25.0 00.4.2l1.45-1.087a.25.25.0 01.3.0L8.6 15.7a.25.25.0 00.4-.2v-3.25A.25.25.0 008.75 12h-3.5a.25.25.0 00-.25.25z"/></svg>
Posts
<span class=Counter>68</span></a></nav><div class="profile-color-modes js-promo-color-modes-banner-profile isInitialToggle"><svg width="106" height="60" viewBox="0 0 106 60" fill="none" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><g class="profile-color-modes-illu-group profile-color-modes-illu-red"><path d="M37.5 58.5v-1c0-7.732 6.268-14 14-14v0c7.732.0 14 6.268 14 14v1"/></g><g class="profile-color-modes-illu-group profile-color-modes-illu-orange"><path d="M104.07 58.5C103.401 55.092 97.7635 54.3869 95.5375 57.489 97.4039 54.6411 99.7685 48.8845 94.6889 46.6592 89.4817 44.378 86.1428 50.1604 85.3786 54.1158 85.9519 50.4768 83.7226 43.294 78.219 44.6737 72.7154 46.0534 72.7793 51.3754 74.4992 55.489 74.169 54.7601 72.4917 53.3567 70.5 52.8196"/></g><g class="profile-color-modes-illu-group profile-color-modes-illu-purple"><path d="M5.51109 58.5v-6c0-11.0457 8.95431-20 20.00001-20 5.9734.0 11.3353 2.6188 15 6.7709C40.7212 39.5089 40.9258 39.7521 41.1245 40"/><path d="M27.511 49.5c2.1667.0 1.4.0 5 0"/><path d="M27.511 56.5c2.1666.0-.599999999999998.0 3 0"/></g><g class="profile-color-modes-illu-group profile-color-modes-illu-green"><circle cx="5.5" cy="12.5" r="4"/><circle cx="18.5" cy="5.5" r="4"/><path d="M18.5 9.5v18"/><path d="M18.5 23.5C6 23.5 5.5 23.6064 5.5 16.5"/></g><g class="profile-color-modes-illu-group profile-color-modes-illu-blue"><g class="profile-color-modes-illu-frame"><path d="M40.6983 31.5C40.5387 29.6246 40.6456 28.0199 41.1762 27.2317 42.9939 24.5312 49.7417 26.6027 52.5428 30.2409 54.2551 29.8552 56.0796 29.6619 57.9731 29.6619 59.8169 29.6619 61.5953 29.8452 63.2682 30.211 66.0833 26.5913 72.799 24.5386 74.6117 27.2317 75.6839 28.8246 75.0259 33.7525 73.9345 37.5094 74.2013 37.9848 74.4422 38.4817 74.6555 39"/></g><g class="profile-color-modes-illu-frame"><path d="M41.508 31.5C41.6336 31.2259 41.7672 30.9582 41.9085 30.6968 40.7845 26.9182 40.086 21.8512 41.1762 20.2317 42.9939 17.5312 49.7417 19.6027 52.5428 23.2409 54.2551 22.8552 56.0796 22.6619 57.9731 22.6619 59.8169 22.6619 61.5953 22.8452 63.2682 23.211 66.0833 19.5913 72.799 17.5386 74.6117 20.2317 75.6839 21.8246 75.0259 26.7525 73.9345 30.5094 75.1352 32.6488 75.811 35.2229 75.811 38.2283 75.811 38.49 75.8058 38.7472 75.7957 39"/><path d="M49.4996 33v2.6757"/><path d="M67.3375 33v2.6757"/></g><g class="profile-color-modes-illu-frame"><path d="M41.508 31.5C41.6336 31.2259 41.7672 30.9582 41.9085 30.6968 40.7845 26.9182 40.086 21.8512 41.1762 20.2317 42.9939 17.5312 49.7417 19.6027 52.5428 23.2409 54.2551 22.8552 56.0796 22.6619 57.9731 22.6619 59.8169 22.6619 61.5953 22.8452 63.2682 23.211 66.0833 19.5913 72.799 17.5386 74.6117 20.2317 75.6839 21.8246 75.0259 26.7525 73.9345 30.5094 75.1352 32.6488 75.811 35.2229 75.811 38.2283 75.811 38.49 75.8058 38.7472 75.7957 39"/></g><g class="profile-color-modes-illu-frame"><path d="M41.508 31.5C41.6336 31.2259 41.7672 30.9582 41.9085 30.6968 40.7845 26.9182 40.086 21.8512 41.1762 20.2317 42.9939 17.5312 49.7417 19.6027 52.5428 23.2409 54.2551 22.8552 56.0796 22.6619 57.9731 22.6619 59.8169 22.6619 61.5953 22.8452 63.2682 23.211 66.0833 19.5913 72.799 17.5386 74.6117 20.2317 75.6839 21.8246 75.0259 26.7525 73.9345 30.5094 75.1352 32.6488 75.811 35.2229 75.811 38.2283 75.811 38.49 75.8058 38.7472 75.7957 39"/><path d="M49.4996 33v2.6757"/><path d="M67.3375 33v2.6757"/></g><g class="profile-color-modes-illu-frame"><path d="M41.508 31.5C41.6336 31.2259 41.7672 30.9582 41.9085 30.6968 40.7845 26.9182 40.086 21.8512 41.1762 20.2317 42.9939 17.5312 49.7417 19.6027 52.5428 23.2409 54.2551 22.8552 56.0796 22.6619 57.9731 22.6619 59.8169 22.6619 61.5953 22.8452 63.2682 23.211 66.0833 19.5913 72.799 17.5386 74.6117 20.2317 75.6839 21.8246 75.0259 26.7525 73.9345 30.5094 75.1352 32.6488 75.811 35.2229 75.811 38.2283 75.811 38.49 75.8058 38.7472 75.7957 39"/></g><g class="profile-color-modes-illu-frame"><path d="M41.508 31.5C41.6336 31.2259 41.7672 30.9582 41.9085 30.6968 40.7845 26.9182 40.086 21.8512 41.1762 20.2317 42.9939 17.5312 49.7417 19.6027 52.5428 23.2409 54.2551 22.8552 56.0796 22.6619 57.9731 22.6619 59.8169 22.6619 61.5953 22.8452 63.2682 23.211 66.0833 19.5913 72.799 17.5386 74.6117 20.2317 75.6839 21.8246 75.0259 26.7525 73.9345 30.5094 75.1352 32.6488 75.811 35.2229 75.811 38.2283 75.811 38.49 75.8058 38.7472 75.7957 39"/><path d="M49.4996 33v2.6757"/><path d="M67.3375 33v2.6757"/></g><g class="profile-color-modes-illu-frame"><path d="M73.4999 40.2236c1.471-2.0187 2.3109-4.6445 2.3109-7.9953.0-3.0054-.675700000000006-5.5795-1.8764-7.7189C75.0258 20.7525 75.6838 15.8246 74.6116 14.2317 72.7989 11.5386 66.0832 13.5913 63.2681 17.211 61.5952 16.8452 59.8167 16.6619 57.973 16.6619 56.0795 16.6619 54.2549 16.8552 52.5427 17.2409 49.7416 13.6027 42.9938 11.5312 41.176 14.2317 40.0859 15.8512 40.7843 20.9182 41.9084 24.6968c-.9054 1.6748-1.4938 3.6097-1.6955 5.8032"/><path d="M82.9458 30.5471 76.8413 31.657"/><path d="M76.2867 34.4319 81.8362 37.7616"/><path d="M49.4995 27.8242v2.6757"/><path d="M67.3374 27.8242v2.6756"/></g><g class="profile-color-modes-illu-frame"><path d="M45.3697 34.2658c-3.482-2.1282-5.6584-5.6436-5.6584-11.0375.0-2.9182.637000000000001-5.4297 1.7732-7.5315C40.3605 11.9182 39.662 6.85125 40.7522 5.23168c1.8177-2.70051 8.5655-.62898 11.3666 3.00927 1.7122-.38574 3.5368-.57909 5.4303-.57909C59.3929 7.66186 61.1713 7.84519 62.8442 8.21095 65.6593 4.59134 72.375 2.5386 74.1877 5.23168 75.2599 6.82461 74.6019 11.7525 73.5105 15.5094 74.7112 17.6488 75.3869 20.2229 75.3869 23.2283c0 5.3939-2.1764 8.9093-5.6584 11.0375 1.1318 1.2705 2.8772 4.0898 3.5791 5.7342"/><path d="M49.0747 19.8242v2.6757"/><path d="M54.0991 28C54.6651 29.0893 55.7863 30.0812 57.9929 30.0812 59.0642 30.0812 59.8797 29.8461 60.5 29.4788"/><path d="M66.9126 19.8242v2.6757"/><path d="M33.2533 20.0237l5.819 2.153"/><path d="M39.1369 25.0058l-6.0434 2.3154"/><path d="M81.8442 19.022l-5.819 2.1531"/><path d="M75.961 24.0041 82.0045 26.3196"/></g><g class="profile-color-modes-illu-frame"><path d="M73.4999 40.2236c1.471-2.0187 2.3109-4.6445 2.3109-7.9953.0-3.0054-.675700000000006-5.5795-1.8764-7.7189C75.0258 20.7525 75.6838 15.8246 74.6116 14.2317 72.7989 11.5386 66.0832 13.5913 63.2681 17.211 61.5952 16.8452 59.8167 16.6619 57.973 16.6619 56.0795 16.6619 54.2549 16.8552 52.5427 17.2409 49.7416 13.6027 42.9938 11.5312 41.176 14.2317 40.0859 15.8512 40.7843 20.9182 41.9084 24.6968c-.9054 1.6748-1.4938 3.6097-1.6955 5.8032"/><path d="M82.9458 30.5471 76.8413 31.657"/><path d="M76.2867 34.4319 81.8362 37.7616"/><path d="M49.4995 27.8242v2.6757"/><path d="M67.3374 27.8242v2.6756"/></g><g class="profile-color-modes-illu-frame"><path d="M40.6983 31.5C40.5387 29.6246 40.6456 28.0199 41.1762 27.2317 42.9939 24.5312 49.7417 26.6027 52.5428 30.2409 54.2551 29.8552 56.0796 29.6619 57.9731 29.6619 59.8169 29.6619 61.5953 29.8452 63.2682 30.211 66.0833 26.5913 72.799 24.5386 74.6117 27.2317 75.6839 28.8246 75.0259 33.7525 73.9345 37.5094 74.2013 37.9848 74.4422 38.4817 74.6555 39"/></g></g></svg>
<span class="profile-color-modes-toggle js-promo-color-modes-toggle no-select" tabindex=0 onclick=switchTheme()><div class="profile-color-modes-toggle-track no-select"></div><div class="profile-color-modes-toggle-thumb js-promo-color-modes-thumb"><svg style="fill:var(--color-profile-color-modes-toggle-moon);margin:7px 0 0 7px" width="14" height="13" viewBox="0 0 14 13"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.52208 7.71754c3.05612.0 5.53362-2.47748 5.53362-5.5336C10.0557 1.93498 10.0392 1.68986 10.0074 1.44961 9.95801 1.07727 10.3495.771159 10.6474.99992c1.4679 1.12724 2.4141 2.90007 2.4141 4.89391.0 3.40575-2.7609 6.16667-6.16665 6.16667-2.94151.0-5.40199-2.0595-6.018122-4.81523C.794841 6.87902 1.23668 6.65289 1.55321 6.85451 2.41106 7.40095 3.4296 7.71754 4.52208 7.71754z"/></svg></div></span></div></div></div></div></div></div><div class="container-xl px-3 px-md-4 px-lg-5"><div class="gutter-condensed gutter-lg flex-column flex-md-row d-flex"><div class="flex-shrink-0 col-12 col-md-3 mb-4 mb-md-0"><div class="h-card mt-md-n5" style=margin-top:24px><div class="user-profile-sticky-bar js-user-profile-sticky-bar d-none d-md-block" id=headerStuck><div class="user-profile-mini-vcard d-table"><span class="user-profile-mini-avatar d-table-cell v-align-middle lh-condensed-ultra pr-2"><img class="rounded-1 avatar-user" height=32 width=32 src=/images/avatar.jpg>
</span><span class="d-table-cell v-align-middle lh-condensed"><strong>Stephen Connolly</strong></span></div></div><div class="clearfix d-flex d-md-block flex-items-center mb-4 mb-md-0"><div class="position-relative d-inline-block col-2 col-md-12 mr-3 mr-md-0 flex-shrink-0" style=z-index:4><a href=/images/avatar.jpg><img style=height:auto alt=Avatar width=260 height=260 id=headerImg class="avatar avatar-user width-full border bg-white" src=/images/avatar.jpg></a><div class="user-status-container position-relative hide-sm hide-md"><div class="f5 user-status-circle-badge-container"><div class="user-status-circle-badge d-inline-block lh-condensed-ultra p-2"><div class="d-flex flex-items-center flex-items-stretch"><div class="f6 lh-condensed user-status-header d-inline-flex user-status-emoji-only-header circle"><div class="user-status-emoji-container flex-shrink-0 mr-2 d-flex flex-items-center flex-justify-center"><div><g-emoji class=g-emoji>ðŸ˜€</g-emoji></div></div></div></div></div></div></div></div><div class="vcard-names-container float-left col-10 col-md-12 pt-1 pt-md-3 pb-1 pb-md-3 js-sticky js-user-profile-sticky-fields" data-original-top=0px style=position:sticky><h1 class="vcard-names pl-2 pl-md-0"><span class="p-name vcard-fullname d-block overflow-hidden">Stephen Connolly</span>
<span class="p-nickname vcard-username d-block">stephenc</span></h1></div></div><div class="p-note user-profile-bio mb-3 js-user-profile-bio f4"><div>Longer form musings</div></div><div class="d-flex flex-column"><div class="js-profile-editable-area d-flex flex-column d-md-block"><ul class=vcard-details><li class="vcard-detail pt-1 css-truncate css-truncate-target hide-sm hide-md"><svg class="octicon octicon-location" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M11.536 3.464a5 5 0 010 7.072L8 14.07l-3.536-3.535a5 5 0 117.072-7.072v.001zm1.06 8.132a6.5 6.5.0 10-9.192.0l3.535 3.536a1.5 1.5.0 002.122.0l3.535-3.536zM8 9a2 2 0 100-4 2 2 0 000 4z"/></svg>
<span class=p-label>Ireland</span></li><li class="vcard-detail pt-1 css-truncate css-truncate-target"><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75.0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83.0.75.75.0 00-1.06 1.06 3.5 3.5.0 004.95.0l2.5-2.5a3.5 3.5.0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83.0.75.75.0 001.06-1.06 3.5 3.5.0 00-4.95.0l-2.5 2.5a3.5 3.5.0 004.95 4.95l1.25-1.25a.75.75.0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83.0z"/></svg>
<a rel="nofollow me" class=link-gray-dark href=https://stephenc.github.io/>https://stephenc.github.io/</a></li></ul></div></div><div class="border-top color-border-secondary pt-3 mt-3 clearfix hide-sm hide-md"><h2 class="mb-2 h4">Organizations</h2><div style=display:flex;justify-content:flex-start;flex-wrap:wrap;margin-bottom:3px><a style="margin:0 10px 10px 0" href=https://github.com/stephenc><svg id="github-icon" viewBox="0 0 16 16" width="32" height="32" fill="#24292e"><path fill-rule="evenodd" d="M8 0C3.58.0.0 3.58.0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38.0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95.0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12.0.0.67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15.0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48.0 1.07-.01 1.93-.01 2.2.0.21.15.46.55.38A8.013 8.013.0 0016 8c0-4.42-3.58-8-8-8z"/></svg>
</a><a style="margin:0 10px 10px 0" href=https://linkedin.com/in/stephenalanconnolly><img alt=@linkedin width=32 height=32 src=https://stephenc.github.io/images/linkedin.png class=avatar>
</a><a style="margin:0 10px 10px 0" href=https://stephenc.github.io/index.xml><img alt=@rss width=32 height=32 src=https://stephenc.github.io/images/rss.png class=avatar></a></div></div></div></div><div class="flex-shrink-0 col-12 col-md-9 mb-4 mb-md-0"><div class="UnderlineNav user-profile-nav d-block d-md-none position-sticky top-0 pl-3 ml-n3 mr-n3 pr-3 bg-white" style=z-index:3><nav class=UnderlineNav-body><a class=UnderlineNav-item href=https://stephenc.github.io/><svg class="octicon octicon-book UnderlineNav-octicon hide-sm" height="16" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M0 1.75A.75.75.0 01.75 1h4.253c1.227.0 2.317.59 3 1.501A3.744 3.744.0 0111.006 1h4.245a.75.75.0 01.75.75v10.5a.75.75.0 01-.75.75h-4.507a2.25 2.25.0 00-1.591.659l-.622.621a.75.75.0 01-1.06.0l-.622-.621A2.25 2.25.0 005.258 13H.75A.75.75.0 010 12.25V1.75zm8.755 3a2.25 2.25.0 012.25-2.25H14.5v9h-3.757c-.71.0-1.4.201-1.992.572l.004-7.322zm-1.504 7.324.004-5.073-.002-2.253A2.25 2.25.0 005.003 2.5H1.5v9h3.757a3.75 3.75.0 011.994.574z"/></svg>
Overview
</a><a class='UnderlineNav-item selected' href=https://stephenc.github.io/post><svg class="octicon octicon-repo UnderlineNav-octicon hide-sm" height="16" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M2 2.5A2.5 2.5.0 014.5.0h8.75a.75.75.0 01.75.75v12.5a.75.75.0 01-.75.75h-2.5a.75.75.0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75.0 01-1.072 1.05A2.495 2.495.0 012 11.5v-9zm10.5-1V9h-8c-.356.0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25.0 00.4.2l1.45-1.087a.25.25.0 01.3.0L8.6 15.7a.25.25.0 00.4-.2v-3.25A.25.25.0 008.75 12h-3.5a.25.25.0 00-.25.25z"/></svg>
Posts
<span class=Counter>68</span></a></nav></div><div><div class=position-relative><div><style>.tags{padding:15px 0}</style><div class="f6 text-gray mt-2 tags border-bottom"><a class="muted-link mr-3" href=/categories/infrastructure/><svg class="octicon octicon-package" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M8.878.392a1.75 1.75.0 00-1.756.0l-5.25 3.045A1.75 1.75.0 001 4.951v6.098c0 .624.332 1.2.872 1.514l5.25 3.045a1.75 1.75.0 001.756.0l5.25-3.045c.54-.313.872-.89.872-1.514V4.951c0-.624-.332-1.2-.872-1.514L8.878.392zM7.875 1.69a.25.25.0 01.25.0l4.63 2.685L8 7.133 3.245 4.375l4.63-2.685zM2.5 5.677v5.372c0 .09.047.171.125.216l4.625 2.683V8.432L2.5 5.677zm6.25 8.271 4.625-2.683a.25.25.0 00.125-.216V5.677L8.75 8.432v5.516z"/></svg>
infrastructure
</a><a class="muted-link mr-3" href=/categories/kubernetes/><svg class="octicon octicon-package" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M8.878.392a1.75 1.75.0 00-1.756.0l-5.25 3.045A1.75 1.75.0 001 4.951v6.098c0 .624.332 1.2.872 1.514l5.25 3.045a1.75 1.75.0 001.756.0l5.25-3.045c.54-.313.872-.89.872-1.514V4.951c0-.624-.332-1.2-.872-1.514L8.878.392zM7.875 1.69a.25.25.0 01.25.0l4.63 2.685L8 7.133 3.245 4.375l4.63-2.685zM2.5 5.677v5.372c0 .09.047.171.125.216l4.625 2.683V8.432L2.5 5.677zm6.25 8.271 4.625-2.683a.25.25.0 00.125-.216V5.677L8.75 8.432v5.516z"/></svg>
kubernetes
</a><a class="muted-link mr-3" href=/tags/cloudbees/><svg class="octicon octicon-tag" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M2.5 7.775V2.75a.25.25.0 01.25-.25h5.025a.25.25.0 01.177.073l6.25 6.25a.25.25.0 010 .354l-5.025 5.025a.25.25.0 01-.354.0l-6.25-6.25A.25.25.0 012.5 7.775zm-1.5.0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464.0.91.184 1.238.513l6.25 6.25a1.75 1.75.0 010 2.474l-5.026 5.026a1.75 1.75.0 01-2.474.0l-6.25-6.25A1.75 1.75.0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z"/></svg>
cloudbees
</a><a class="muted-link mr-3" href=/tags/devops/><svg class="octicon octicon-tag" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M2.5 7.775V2.75a.25.25.0 01.25-.25h5.025a.25.25.0 01.177.073l6.25 6.25a.25.25.0 010 .354l-5.025 5.025a.25.25.0 01-.354.0l-6.25-6.25A.25.25.0 012.5 7.775zm-1.5.0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464.0.91.184 1.238.513l6.25 6.25a1.75 1.75.0 010 2.474l-5.026 5.026a1.75 1.75.0 01-2.474.0l-6.25-6.25A1.75 1.75.0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z"/></svg>
devops
</a><a class="muted-link mr-3" href=/tags/general/><svg class="octicon octicon-tag" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M2.5 7.775V2.75a.25.25.0 01.25-.25h5.025a.25.25.0 01.177.073l6.25 6.25a.25.25.0 010 .354l-5.025 5.025a.25.25.0 01-.354.0l-6.25-6.25A.25.25.0 012.5 7.775zm-1.5.0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464.0.91.184 1.238.513l6.25 6.25a1.75 1.75.0 010 2.474l-5.026 5.026a1.75 1.75.0 01-2.474.0l-6.25-6.25A1.75 1.75.0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z"/></svg>
general
</a><a class="muted-link mr-3" href=/tags/java/><svg class="octicon octicon-tag" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M2.5 7.775V2.75a.25.25.0 01.25-.25h5.025a.25.25.0 01.177.073l6.25 6.25a.25.25.0 010 .354l-5.025 5.025a.25.25.0 01-.354.0l-6.25-6.25A.25.25.0 012.5 7.775zm-1.5.0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464.0.91.184 1.238.513l6.25 6.25a1.75 1.75.0 010 2.474l-5.026 5.026a1.75 1.75.0 01-2.474.0l-6.25-6.25A1.75 1.75.0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z"/></svg>
java
</a><a class="muted-link mr-3" href=/tags/javaee/><svg class="octicon octicon-tag" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M2.5 7.775V2.75a.25.25.0 01.25-.25h5.025a.25.25.0 01.177.073l6.25 6.25a.25.25.0 010 .354l-5.025 5.025a.25.25.0 01-.354.0l-6.25-6.25A.25.25.0 012.5 7.775zm-1.5.0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464.0.91.184 1.238.513l6.25 6.25a1.75 1.75.0 010 2.474l-5.026 5.026a1.75 1.75.0 01-2.474.0l-6.25-6.25A1.75 1.75.0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z"/></svg>
javaee
</a><a class="muted-link mr-3" href=/tags/jenkins/><svg class="octicon octicon-tag" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M2.5 7.775V2.75a.25.25.0 01.25-.25h5.025a.25.25.0 01.177.073l6.25 6.25a.25.25.0 010 .354l-5.025 5.025a.25.25.0 01-.354.0l-6.25-6.25A.25.25.0 012.5 7.775zm-1.5.0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464.0.91.184 1.238.513l6.25 6.25a1.75 1.75.0 010 2.474l-5.026 5.026a1.75 1.75.0 01-2.474.0l-6.25-6.25A1.75 1.75.0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z"/></svg>
jenkins
</a><a class="muted-link mr-3" href=/tags/kubernetes/><svg class="octicon octicon-tag" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M2.5 7.775V2.75a.25.25.0 01.25-.25h5.025a.25.25.0 01.177.073l6.25 6.25a.25.25.0 010 .354l-5.025 5.025a.25.25.0 01-.354.0l-6.25-6.25A.25.25.0 012.5 7.775zm-1.5.0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464.0.91.184 1.238.513l6.25 6.25a1.75 1.75.0 010 2.474l-5.026 5.026a1.75 1.75.0 01-2.474.0l-6.25-6.25A1.75 1.75.0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z"/></svg>
kubernetes
</a><a class="muted-link mr-3" href=/tags/maven/><svg class="octicon octicon-tag" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M2.5 7.775V2.75a.25.25.0 01.25-.25h5.025a.25.25.0 01.177.073l6.25 6.25a.25.25.0 010 .354l-5.025 5.025a.25.25.0 01-.354.0l-6.25-6.25A.25.25.0 012.5 7.775zm-1.5.0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464.0.91.184 1.238.513l6.25 6.25a1.75 1.75.0 010 2.474l-5.026 5.026a1.75 1.75.0 01-2.474.0l-6.25-6.25A1.75 1.75.0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z"/></svg>
maven
</a><a class="muted-link mr-3" href=/tags/operator-pattern/><svg class="octicon octicon-tag" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M2.5 7.775V2.75a.25.25.0 01.25-.25h5.025a.25.25.0 01.177.073l6.25 6.25a.25.25.0 010 .354l-5.025 5.025a.25.25.0 01-.354.0l-6.25-6.25A.25.25.0 012.5 7.775zm-1.5.0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464.0.91.184 1.238.513l6.25 6.25a1.75 1.75.0 010 2.474l-5.026 5.026a1.75 1.75.0 01-2.474.0l-6.25-6.25A1.75 1.75.0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z"/></svg>
operator-pattern
</a><a class="muted-link mr-3" href=/tags/platform-engineering/><svg class="octicon octicon-tag" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M2.5 7.775V2.75a.25.25.0 01.25-.25h5.025a.25.25.0 01.177.073l6.25 6.25a.25.25.0 010 .354l-5.025 5.025a.25.25.0 01-.354.0l-6.25-6.25A.25.25.0 012.5 7.775zm-1.5.0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464.0.91.184 1.238.513l6.25 6.25a1.75 1.75.0 010 2.474l-5.026 5.026a1.75 1.75.0 01-2.474.0l-6.25-6.25A1.75 1.75.0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z"/></svg>
platform-engineering
</a><a class="muted-link mr-3" href=/tags/shell/><svg class="octicon octicon-tag" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M2.5 7.775V2.75a.25.25.0 01.25-.25h5.025a.25.25.0 01.177.073l6.25 6.25a.25.25.0 010 .354l-5.025 5.025a.25.25.0 01-.354.0l-6.25-6.25A.25.25.0 012.5 7.775zm-1.5.0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464.0.91.184 1.238.513l6.25 6.25a1.75 1.75.0 010 2.474l-5.026 5.026a1.75 1.75.0 01-2.474.0l-6.25-6.25A1.75 1.75.0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z"/></svg>
shell
</a><a class="muted-link mr-3" href=/tags/vault/><svg class="octicon octicon-tag" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M2.5 7.775V2.75a.25.25.0 01.25-.25h5.025a.25.25.0 01.177.073l6.25 6.25a.25.25.0 010 .354l-5.025 5.025a.25.25.0 01-.354.0l-6.25-6.25A.25.25.0 012.5 7.775zm-1.5.0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464.0.91.184 1.238.513l6.25 6.25a1.75 1.75.0 010 2.474l-5.026 5.026a1.75 1.75.0 01-2.474.0l-6.25-6.25A1.75 1.75.0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z"/></svg>
vault</a></div><ul><li class="col-12 d-flex width-full py-4 border-bottom color-border-secondary public source"><div class="col-12 d-inline-block"><div class="d-inline-block mb-1"><h3 class=wb-break-all><a href=https://stephenc.github.io/post/2010-07-19-quick-and-dirty-remove-snapshots-from-your-local-maven-repository/>Quick and dirty remove -SNAPSHOTS from your local maven repository</a></h3></div><div><div class="col-12 d-inline-block text-gray mb-2 pr-4"><p>Works on *nix</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>find ~/.m2/repository -type d -name <span style=color:#ae81ff>\*</span>-SNAPSHOT -exec rm -rvf <span style=color:#f92672>{}</span> <span style=color:#ae81ff>\;</span>
</span></span></code></pre></div><p>By searching for the directories we should catch the -YYYYMMDD.HHMMSS format of snapshots also</p></div></div><div class="f6 text-gray mt-2"><a class="muted-link mr-3" href=/tags/maven><svg class="octicon octicon-tag" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M2.5 7.775V2.75a.25.25.0 01.25-.25h5.025a.25.25.0 01.177.073l6.25 6.25a.25.25.0 010 .354l-5.025 5.025a.25.25.0 01-.354.0l-6.25-6.25A.25.25.0 012.5 7.775zm-1.5.0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464.0.91.184 1.238.513l6.25 6.25a1.75 1.75.0 010 2.474l-5.026 5.026a1.75 1.75.0 01-2.474.0l-6.25-6.25A1.75 1.75.0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z"/></svg>
Maven
</a><a class="muted-link mr-3" href=/tags/shell><svg class="octicon octicon-tag" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M2.5 7.775V2.75a.25.25.0 01.25-.25h5.025a.25.25.0 01.177.073l6.25 6.25a.25.25.0 010 .354l-5.025 5.025a.25.25.0 01-.354.0l-6.25-6.25A.25.25.0 012.5 7.775zm-1.5.0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464.0.91.184 1.238.513l6.25 6.25a1.75 1.75.0 010 2.474l-5.026 5.026a1.75 1.75.0 01-2.474.0l-6.25-6.25A1.75 1.75.0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z"/></svg>
Shell
</a>Created
<relative-time datetime="Mon, 19 Jul 2010 00:00:00 +0000" class=no-wrap title=" Mon, 19 Jul 2010 00:00:00 +0000">Mon, 19 Jul 2010 00:00:00 +0000</relative-time></div></div></li><li class="col-12 d-flex width-full py-4 border-bottom color-border-secondary public source"><div class="col-12 d-inline-block"><div class="d-inline-block mb-1"><h3 class=wb-break-all><a href=https://stephenc.github.io/post/2010-07-08-keeping-hudson-configuration-and-data-in-svn/>Keeping Hudson configuration and data in SVN</a></h3></div><div><div class="col-12 d-inline-block text-gray mb-2 pr-4"><p>We recently lost our hudson server due to a multiple disk failure in the RAID array storing our hudson configuration. [5 of the 15 disks died]</p><p>So I&rsquo;ve been looking into a backup script that will allow us to keep a backup of the configuration. We use Maven for most of our builds, so the released artifacts are in our Maven Repository (which is hosted on two servers each with RAID arrays and using DRBD to mirror between the pair, with an rsync to a NAS in another cabinet and we are trying to get an rsych to an off-site storage going as well).</p></div></div><div class="f6 text-gray mt-2"><a class="muted-link mr-3" href=/tags/jenkins><svg class="octicon octicon-tag" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M2.5 7.775V2.75a.25.25.0 01.25-.25h5.025a.25.25.0 01.177.073l6.25 6.25a.25.25.0 010 .354l-5.025 5.025a.25.25.0 01-.354.0l-6.25-6.25A.25.25.0 012.5 7.775zm-1.5.0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464.0.91.184 1.238.513l6.25 6.25a1.75 1.75.0 010 2.474l-5.026 5.026a1.75 1.75.0 01-2.474.0l-6.25-6.25A1.75 1.75.0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z"/></svg>
Jenkins
</a>Created
<relative-time datetime="Thu, 08 Jul 2010 00:00:00 +0000" class=no-wrap title=" Thu, 08 Jul 2010 00:00:00 +0000">Thu, 08 Jul 2010 00:00:00 +0000</relative-time></div></div></li><li class="col-12 d-flex width-full py-4 border-bottom color-border-secondary public source"><div class="col-12 d-inline-block"><div class="d-inline-block mb-1"><h3 class=wb-break-all><a href=https://stephenc.github.io/post/2010-05-14-easy-parallelization-with-bash-in-linux/>Easy parallelization with Bash in Linux</a></h3></div><div><div class="col-12 d-inline-block text-gray mb-2 pr-4"><p>Cool post I just found:http://coldattic.info/shvedsky/pro/blogs/a-foo-walks-into-a-bar/posts/7</p></div></div><div class="f6 text-gray mt-2"><a class="muted-link mr-3" href=/tags/shell><svg class="octicon octicon-tag" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M2.5 7.775V2.75a.25.25.0 01.25-.25h5.025a.25.25.0 01.177.073l6.25 6.25a.25.25.0 010 .354l-5.025 5.025a.25.25.0 01-.354.0l-6.25-6.25A.25.25.0 012.5 7.775zm-1.5.0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464.0.91.184 1.238.513l6.25 6.25a1.75 1.75.0 010 2.474l-5.026 5.026a1.75 1.75.0 01-2.474.0l-6.25-6.25A1.75 1.75.0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z"/></svg>
Shell
</a>Created
<relative-time datetime="Fri, 14 May 2010 00:00:00 +0000" class=no-wrap title=" Fri, 14 May 2010 00:00:00 +0000">Fri, 14 May 2010 00:00:00 +0000</relative-time></div></div></li><li class="col-12 d-flex width-full py-4 border-bottom color-border-secondary public source"><div class="col-12 d-inline-block"><div class="d-inline-block mb-1"><h3 class=wb-break-all><a href=https://stephenc.github.io/post/2010-04-03-crazy-counting/>Crazy counting...</a></h3></div><div><div class="col-12 d-inline-block text-gray mb-2 pr-4"><p>When you are keeping build/version number in strings, you really need to left pad with 0&rsquo;s in order for string sorting to work&mldr;</p><p>e.g. <code>1.0-alpha-2</code> > <code>1.0-alpha-1</code> > <code>1.0-alpha-10</code></p><p>So as long as we start off with a leading zero, we are fine, e.g. <code>1.0-alpha-01</code></p><p>Of course the next question is how much padding&mldr;</p><p>Eventually you will reach a point where the amount of padding is too much&mldr; enter crazy counting&mldr;</p></div></div><div class="f6 text-gray mt-2">Created
<relative-time datetime="Sat, 03 Apr 2010 00:00:00 +0000" class=no-wrap title=" Sat, 03 Apr 2010 00:00:00 +0000">Sat, 03 Apr 2010 00:00:00 +0000</relative-time></div></div></li><li class="col-12 d-flex width-full py-4 border-bottom color-border-secondary public source"><div class="col-12 d-inline-block"><div class="d-inline-block mb-1"><h3 class=wb-break-all><a href=https://stephenc.github.io/post/2010-03-24-dont-do-what-donny-dont-does-1-seam-synchronized-and-synchronized-methods/>Don't Do What Donny Don't Does #1 - Seam @Synchronized and synchronized methods</a></h3></div><div><div class="col-12 d-inline-block text-gray mb-2 pr-4"><p>I am starting a series of things you should not do:</p><p><img src=/images/post/2010-03-24-donny-dont.jpeg alt></p><p>Seam has this handy annotation: <a href="http://www.google.com/url?sa=t&amp;source=web&amp;ct=res&amp;cd=1&amp;ved=0CAgQFjAA&amp;url=http%3A%2F%2Fdocs.jboss.org%2Fseam%2F1.1GA%2Fapi%2Forg%2Fjboss%2Fseam%2Fannotations%2FSynchronized.html&amp;ei=0-upS5uqJYvyNP3V_eQB&amp;usg=AFQjCNG8cnfD4zCN-VH28nWD_W1eoRMqxA&amp;sig2=Yxc0t-IQgA5yST-uA40img"><code>@Synchronized</code></a> which ensures that only a single thread may access the methods/fields of the component at the same time.</p><p>Often times it is easy to forget that SESSION scoped Seam components are automatically <code>@Synchronized</code></p><p>Java has this (formerly) handy modifier <a href=http://java.sun.com/docs/books/tutorial/essential/concurrency/locksync.html><code>synchronized</code></a> which when applied to a method, ensures that the object&rsquo;s implicit lock is held whenever the method is invoked.</p></div></div><div class="f6 text-gray mt-2">Created
<relative-time datetime="Wed, 24 Mar 2010 00:00:00 +0000" class=no-wrap title=" Wed, 24 Mar 2010 00:00:00 +0000">Wed, 24 Mar 2010 00:00:00 +0000</relative-time></div></div></li><li class="col-12 d-flex width-full py-4 border-bottom color-border-secondary public source"><div class="col-12 d-inline-block"><div class="d-inline-block mb-1"><h3 class=wb-break-all><a href=https://stephenc.github.io/post/2010-03-10-openejb-jetty-and-maven-transaction-management/>OpenEjb, Jetty and Maven - Transaction Management</a></h3></div><div><div class="col-12 d-inline-block text-gray mb-2 pr-4"><p>I&rsquo;ve been meaning to blog about getting transaction management working with OpenEjb and Jetty using <code>jetty:run</code>&mldr; it&rsquo;s still an on-going story&mldr; but the following might get you going&mldr;</p><p>First off, in your <code>pom.xml</code> you need to add the configuration for <code>maven-jetty-plugin</code>&mldr; we need to dance around the various activemq/activeio versions and ensure that we get the correct version of ant&mldr;</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#75715e>&lt;?xml version=&#34;1.0&#34;?&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;project</span> <span style=color:#a6e22e>xmlns=</span><span style=color:#e6db74>&#34;http://maven.apache.org/POM/4.0.0&#34;</span> 
</span></span><span style=display:flex><span>	    <span style=color:#a6e22e>xmlns:xsi=</span><span style=color:#e6db74>&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span> 
</span></span><span style=display:flex><span>	    <span style=color:#a6e22e>xsi:schemaLocation=</span><span style=color:#e6db74>&#34;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;modelVersion&gt;</span>4.0.0<span style=color:#f92672>&lt;/modelVersion&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;groupId&gt;</span>org.apache.openejb.examples<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;artifactId&gt;</span>jetty-openejb<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;packaging&gt;</span>war<span style=color:#f92672>&lt;/packaging&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;version&gt;</span>1.0-SNAPSHOT<span style=color:#f92672>&lt;/version&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;name&gt;</span>jetty-openejb Maven Webapp<span style=color:#f92672>&lt;/name&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;url&gt;</span>http://maven.apache.org<span style=color:#f92672>&lt;/url&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;dependencies&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>&lt;groupId&gt;</span>junit<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>&lt;artifactId&gt;</span>junit<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>&lt;version&gt;</span>3.8.1<span style=color:#f92672>&lt;/version&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>&lt;scope&gt;</span>test<span style=color:#f92672>&lt;/scope&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;/dependency&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;/dependencies&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;build&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;finalName&gt;</span>${project.artifactId}<span style=color:#f92672>&lt;/finalName&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;plugins&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>&lt;plugin&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;groupId&gt;</span>org.mortbay.jetty<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;artifactId&gt;</span>maven-jetty-plugin<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;version&gt;</span>6.1.22<span style=color:#f92672>&lt;/version&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;dependencies&gt;</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;groupId&gt;</span>org.apache.activemq<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;artifactId&gt;</span>activemq-core<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;version&gt;</span>4.1.1<span style=color:#f92672>&lt;/version&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;exclusions&gt;</span>
</span></span><span style=display:flex><span>              <span style=color:#f92672>&lt;exclusion&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;groupId&gt;</span>commons-logging<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;artifactId&gt;</span>commons-logging<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>              <span style=color:#f92672>&lt;/exclusion&gt;</span>
</span></span><span style=display:flex><span>              <span style=color:#f92672>&lt;exclusion&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;groupId&gt;</span>commons-logging<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;artifactId&gt;</span>commons-logging-api<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>              <span style=color:#f92672>&lt;/exclusion&gt;</span>
</span></span><span style=display:flex><span>              <span style=color:#f92672>&lt;exclusion&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;groupId&gt;</span>org.apache.activemq<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;artifactId&gt;</span>activeio-core<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>              <span style=color:#f92672>&lt;/exclusion&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;/exclusions&gt;</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>&lt;/dependency&gt;</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;groupId&gt;</span>org.apache.activemq<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;artifactId&gt;</span>activemq-ra<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;version&gt;</span>4.1.1<span style=color:#f92672>&lt;/version&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;exclusions&gt;</span>
</span></span><span style=display:flex><span>              <span style=color:#f92672>&lt;exclusion&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;groupId&gt;</span>commons-logging<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;artifactId&gt;</span>commons-logging<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>              <span style=color:#f92672>&lt;/exclusion&gt;</span>
</span></span><span style=display:flex><span>              <span style=color:#f92672>&lt;exclusion&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;groupId&gt;</span>commons-logging<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;artifactId&gt;</span>commons-logging-api<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>              <span style=color:#f92672>&lt;/exclusion&gt;</span>
</span></span><span style=display:flex><span>              <span style=color:#f92672>&lt;exclusion&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;groupId&gt;</span>org.apache.activemq<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;artifactId&gt;</span>activeio-core<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>              <span style=color:#f92672>&lt;/exclusion&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;/exclusions&gt;</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>&lt;/dependency&gt;</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;groupId&gt;</span>org.apache.activemq<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;artifactId&gt;</span>activeio-core<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;version&gt;</span>3.1.2<span style=color:#f92672>&lt;/version&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;exclusions&gt;</span>
</span></span><span style=display:flex><span>              <span style=color:#f92672>&lt;exclusion&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;groupId&gt;</span>commons-logging<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;artifactId&gt;</span>commons-logging<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>              <span style=color:#f92672>&lt;/exclusion&gt;</span>
</span></span><span style=display:flex><span>              <span style=color:#f92672>&lt;exclusion&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;groupId&gt;</span>commons-logging<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;artifactId&gt;</span>commons-logging-api<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>              <span style=color:#f92672>&lt;/exclusion&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;/exclusions&gt;</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>&lt;/dependency&gt;</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;groupId&gt;</span>org.apache.openejb<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;artifactId&gt;</span>openejb-core<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;version&gt;</span>3.1.2<span style=color:#f92672>&lt;/version&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;exclusions&gt;</span>
</span></span><span style=display:flex><span>              <span style=color:#f92672>&lt;exclusion&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;groupId&gt;</span>org.apache.activemq<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;artifactId&gt;</span>activemq-core<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>              <span style=color:#f92672>&lt;/exclusion&gt;</span>
</span></span><span style=display:flex><span>              <span style=color:#f92672>&lt;exclusion&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;groupId&gt;</span>org.apache.activemq<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;artifactId&gt;</span>activemq-ra<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>              <span style=color:#f92672>&lt;/exclusion&gt;</span>
</span></span><span style=display:flex><span>              <span style=color:#f92672>&lt;exclusion&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;groupId&gt;</span>org.apache.activemq<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;artifactId&gt;</span>activeio-core<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>              <span style=color:#f92672>&lt;/exclusion&gt;</span>
</span></span><span style=display:flex><span>              <span style=color:#f92672>&lt;exclusion&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;groupId&gt;</span>junit<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;artifactId&gt;</span>junit<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>              <span style=color:#f92672>&lt;/exclusion&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;/exclusions&gt;</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>&lt;/dependency&gt;</span>
</span></span><span style=display:flex><span>          <span style=color:#75715e>&lt;!-- in order to use the latest version of openejb, we need to exclude
</span></span></span><span style=display:flex><span><span style=color:#75715e>               the dependencies provided in jsp-2.1-jetty --&gt;</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;groupId&gt;</span>org.mortbay.jetty<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;artifactId&gt;</span>jsp-2.1-jetty<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;version&gt;</span>6.1.22<span style=color:#f92672>&lt;/version&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;exclusions&gt;</span>
</span></span><span style=display:flex><span>              <span style=color:#f92672>&lt;exclusion&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;groupId&gt;</span>ant<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;artifactId&gt;</span>ant<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>              <span style=color:#f92672>&lt;/exclusion&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;/exclusions&gt;</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>&lt;/dependency&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;/dependencies&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;configuration&gt;</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>&lt;jettyConfig&gt;</span>${basedir}/src/main/jetty/jetty.xml<span style=color:#f92672>&lt;/jettyConfig&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;/configuration&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>&lt;/plugin&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;/plugins&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;/build&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/project&gt;</span>
</span></span></code></pre></div><p>Next we need to configure a <code>src/main/jetty/jetty.xml</code> to bind the UserTransaction instance into jetty&mldr;</p></div></div><div class="f6 text-gray mt-2"><a class="muted-link mr-3" href=/tags/java><svg class="octicon octicon-tag" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M2.5 7.775V2.75a.25.25.0 01.25-.25h5.025a.25.25.0 01.177.073l6.25 6.25a.25.25.0 010 .354l-5.025 5.025a.25.25.0 01-.354.0l-6.25-6.25A.25.25.0 012.5 7.775zm-1.5.0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464.0.91.184 1.238.513l6.25 6.25a1.75 1.75.0 010 2.474l-5.026 5.026a1.75 1.75.0 01-2.474.0l-6.25-6.25A1.75 1.75.0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z"/></svg>
Java
</a><a class="muted-link mr-3" href=/tags/maven><svg class="octicon octicon-tag" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M2.5 7.775V2.75a.25.25.0 01.25-.25h5.025a.25.25.0 01.177.073l6.25 6.25a.25.25.0 010 .354l-5.025 5.025a.25.25.0 01-.354.0l-6.25-6.25A.25.25.0 012.5 7.775zm-1.5.0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464.0.91.184 1.238.513l6.25 6.25a1.75 1.75.0 010 2.474l-5.026 5.026a1.75 1.75.0 01-2.474.0l-6.25-6.25A1.75 1.75.0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z"/></svg>
Maven
</a><a class="muted-link mr-3" href=/tags/javaee><svg class="octicon octicon-tag" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M2.5 7.775V2.75a.25.25.0 01.25-.25h5.025a.25.25.0 01.177.073l6.25 6.25a.25.25.0 010 .354l-5.025 5.025a.25.25.0 01-.354.0l-6.25-6.25A.25.25.0 012.5 7.775zm-1.5.0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464.0.91.184 1.238.513l6.25 6.25a1.75 1.75.0 010 2.474l-5.026 5.026a1.75 1.75.0 01-2.474.0l-6.25-6.25A1.75 1.75.0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z"/></svg>
JavaEE
</a>Created
<relative-time datetime="Wed, 10 Mar 2010 00:00:00 +0000" class=no-wrap title=" Wed, 10 Mar 2010 00:00:00 +0000">Wed, 10 Mar 2010 00:00:00 +0000</relative-time></div></div></li><li class="col-12 d-flex width-full py-4 border-bottom color-border-secondary public source"><div class="col-12 d-inline-block"><div class="d-inline-block mb-1"><h3 class=wb-break-all><a href=https://stephenc.github.io/post/2010-02-17-review-board-and-subversion-hooks/>Review Board and Subversion Hooks</a></h3></div><div><div class="col-12 d-inline-block text-gray mb-2 pr-4"><p><a href=http://www.reviewboard.org/>Review Board</a> is quite nice&mldr; it has a handy program for posting reviews (<a href=http://www.reviewboard.org/docs/manual/1.0/users/tools/post-review/>postreview</a>)&mldr; and you can integrate this into your <a href=http://subversion.apache.org/>subversion</a> hook scripts quite nicely&mldr;</p><p>But what if you want to automate submitting reviews on only parts of your code base&mldr;</p><p>What I want is to be able to set a property on a folder and then any time a file is changed in that folder or it&rsquo;s children, then a review will automatically be scheduled&mldr;</p></div></div><div class="f6 text-gray mt-2">Created
<relative-time datetime="Wed, 17 Feb 2010 00:00:00 +0000" class=no-wrap title=" Wed, 17 Feb 2010 00:00:00 +0000">Wed, 17 Feb 2010 00:00:00 +0000</relative-time></div></div></li><li class="col-12 d-flex width-full py-4 border-bottom color-border-secondary public source"><div class="col-12 d-inline-block"><div class="d-inline-block mb-1"><h3 class=wb-break-all><a href=https://stephenc.github.io/post/2008-11-01-apache-22-authentication-with-active-directory-via-cyrus-sasl/>Apache 2.2 Authentication with Active Directory via Cyrus SASL</a></h3></div><div><div class="col-12 d-inline-block text-gray mb-2 pr-4"><p>Here is my version of the holy grail, i.e.Authentication for Apache HTTPD against Active Directory.This is not the only way to skin this cat, for example you could also use Sander Marechal&rsquo;s technique (which uses mod_authnz_ldap). However, my problem with Sander&rsquo;s technique is that you need to have an account in Active Directory which you will use to bind to the LDAP server. That means that the accound password has to be stored in a plain-text file on the Apache server, and if the password expires everything breaks until you go fix the password.I want as near to zero maintenance as possible, running on CentOS 5.2 with minimal custom work - so that I don&rsquo;t have to maintain it when it does break.I have previously configured Kerberos to authenicate against Active Directory, so my first attempt was with mod_auth_kerb. That worked&mldr; but very slowly&mldr; trying to an empty access Subversion repository took over 2 minutes. The problem being that successful authentication was not being cached.Then I tried using mod_perl and the Authen::Simple::ActiveDirectory reasoning that I could always hack caching once in perl&mldr; but getting that lot installed on a CentOS 5.2 from RPMs was an exercise in tears.So, anyway, I found out that Cyrus SASL supports two modes of LDAP authentication:The bind method uses the LDAP bind facility to verify the password. The bind method is not available when ldap_use_sasl is turned on. In that case saslauthd will use fastbind.&lsquo;bind&rsquo; is the default auth method. When ldap_use_sasl is enabled, &lsquo;fastbind&rsquo; is the default.The custom method uses userPassword attribute to verify the password. Suppored hashes: crypt, md5, smd5, sha and ssha. Cleartext is supported as well.The fastbind method (when &rsquo;ldap_use_sasl: no&rsquo;) does away with the search and an extra anonymous bind in auth_bind, but makes two assumptions: 1. Expanding the ldap_filter expression gives the user&rsquo;s fully-qualified DN 2. There is no cost to staying bound as a named userSo bind is pretty much the same technique as that used by mod_authnz_ldap, and (as ActiveDirectory does not support - at my company at least - anonymous bind) is ruled out of the running.&ldquo;fastbind&rdquo; sounds exactly like what I want&mldr; ok and saslauthd can be configured to cache authentication, so none of the performance hit of mod_auth_kerb. All we need is a way to tie this into Apache.So, enter mod_authn_sasl which does just that.First, we need to create an RPM, so I did a quicksudo yum install httpd-devel rpmbuild mocksudoecho &ldquo;%_topdir %(echo $HOME)/rpmbuild&rdquo; > ~/.rpmmacrosmkdir -p ~/rpmbuild/{BUILD,RPMS,SOURCES,SPECS,SRPMS}I added my account to the mock group, logged out and in again for the group membership to be recognised and I was ready to go. This was my first experience playing with mock, but it was lovely, especially as CentOS has its own version.I pre-primed my mock environments for i386 and x86_64 as I need RPMs for both of these:mock -r centos-5-i386 initmock -r centos-5-x86_64 initThen I downloaded mod_authn_sasl-1.0.2.tar.bz2 and started writing my spec file.You can download the RPC spec: mod_authn_sasl.spec and the apache config file: mod_authn_sasl.conf.I put mod_authn_sasl-1.0.2.tar.bz2 and mod_authn_sasl.conf in the ~/rpmbuild/SOURCES and then runningrpmbuild -ba mod_authn_sasl.specproduced my source RPM, then I used mock to create the two binary RPMs that I needed:mock -r centos-5-i386 ~/rpmbuild/SRPMS/mod_authn_sasl-1.0.2-4.src.rpmmock -r centos-5-x86_64 ~/rpmbuild/SRPMS/mod_authn_sasl-1.0.2-4.src.rpmThe rpms built from the mock environments end up in /var/lib/mock/centos-5-i386/result and /var/lib/mock/centos-5-x86_64/result. If you want to be lazy and trust my binaries here they are:mod_authn_sasl-1.0.2-4.i386.rpmmod_authn_sasl-1.0.2-4.x86_64.rpmNow all we need to do is configure everything.I&rsquo;ve written this shell script to simplify configuring saslauthd for most good deployments of Active Directory, i.e. where there are SRV records for the domain in your DNS server. You need to run it as root. It looks up the SRV records for the domain name you provide, and creates /etc/saslauthd.conf from them, assuming that the Active Directory domain name is the first word of your DNS name converted to uppercase. So for example, if your Active Directory is set up correctly, and you can login to windows as either EXAMPLE\joebloggs or <a href=mailto:jbloggs@example.foo.com>jbloggs@example.foo.com</a> then you would runsh system-saslauthd-active-directory-config.sh example.foo.comAnd that should setup saslauthd for you. You can test this using the testsaslauthd program.Then all you need to do is secure the appropriate locations in apache, e.g. by adding the following to your VirtualHost configuration:&lt;Location /private>AuthSaslPwcheckMethod saslauthdAuthSaslAppname httpdAuthSaslRealm exampleAuthType basicAuthBasicProvider saslAuthBasicAuthoritative OnAuthName &ldquo;<a href=mailto:sasl@example.com>sasl@example.com</a>"require valid-userAnd define the SASL application provider for the AuthSaslAppname you specified, e.g. for the above configuration you need to create /usr/lib/sasl2/httpd.conf with the contents:pwcheck_method:saslauthdThat&rsquo;s it. You should be done.Updated Friday 28th November 2008: I noticed that the spec file I had provided did not have the correct Requires and BuildRequires. I have fixed this and now I have posted updated rpms (these are 1.0.2-4) with the correct requires to help with a minimal install</p></div></div><div class="f6 text-gray mt-2">Created
<relative-time datetime="Sat, 01 Nov 2008 00:00:00 +0000" class=no-wrap title=" Sat, 01 Nov 2008 00:00:00 +0000">Sat, 01 Nov 2008 00:00:00 +0000</relative-time></div></div></li><li class="col-12 d-flex width-full py-4 border-bottom color-border-secondary public source"><div class="col-12 d-inline-block"><div class="d-inline-block mb-1"><h3 class=wb-break-all><a href=https://stephenc.github.io/post/2008-11-01-howto-centos-5-apache-22-subversion-15-with-activedirectory-authentication/>HowTo: CentOS 5, Apache 2.2, Subversion 1.5 with ActiveDirectory Authentication</a></h3></div><div><div class="col-12 d-inline-block text-gray mb-2 pr-4"><p>Here&rsquo;s my step by step:Install CentOS 5.2Configure Network and Proxies as neededI usually create a login script: /etc/profile.d/login.sh as follows:function set_proxies() { local s PROXY_ADDR=&ldquo;<a href=http://proxy.example.com:8000/%22>http://proxy.example.com:8000/"</a> for s in HTTP HTTPS FTP GOPHER NEWSPOST NEWSREPLY\ NEWS NNTP SNEWSPOST SNEWSREPLY SNEWS\ WAIS FINGER CSO; do export ${s}_PROXY=${PROXY_ADDR} done for s in http https ftp; do export ${s}_proxy=${PROXY_ADDR} done}set_proxiesI installed from the DVD, so yum update to ensure everything is up-to-date.Get my mod_authn_sasl rpm:wget <a href=http://www.one-dash.com/blog/mod_authn_sasl-1.0.2-3.i386.rpmInstall>http://www.one-dash.com/blog/mod_authn_sasl-1.0.2-3.i386.rpmInstall</a> it (this should pull down the):yum &ndash;nogpgcheck localinstall mod_authn_sasl-1.0.2-3.i386.rpmGet my sasl-magic-config script:wget <a href=http://www.one-dash.com/blog/system-saslauthd-active-directory-config.shdos2unix>http://www.one-dash.com/blog/system-saslauthd-active-directory-config.shdos2unix</a> system-saslauthd-active-directory-config.shRun the script:sh system-saslauthd-active-directory-config.sh example.comChange the security level:system-config-securitylevel-tuiSet SELinux to Permissive, Customize and enable WWW and Secure WWW on the firewallCreate the sasl2 configuration for apache:echo &ldquo;pwcheck_method:saslauthd&rdquo; > /usr/lib/sasl2/apache-httpd.confNow we need to install Subversion 1.5.2:wget <a href=http://summersoft.fay.ar.us/pub/subversion/1.5.2/rhel-5/i386/subversion-1.5.2-1.i386.rpmwget>http://summersoft.fay.ar.us/pub/subversion/1.5.2/rhel-5/i386/subversion-1.5.2-1.i386.rpmwget</a> <a href=http://summersoft.fay.ar.us/pub/subversion/1.5.2/rhel-5/i386/neon-0.27.2-1.i386.rpmwget>http://summersoft.fay.ar.us/pub/subversion/1.5.2/rhel-5/i386/neon-0.27.2-1.i386.rpmwget</a> <a href=http://summersoft.fay.ar.us/pub/subversion/1.5.2/rhel-5/i386/mod_dav_svn-1.5.2-1.i386.rpmyum>http://summersoft.fay.ar.us/pub/subversion/1.5.2/rhel-5/i386/mod_dav_svn-1.5.2-1.i386.rpmyum</a> install perl-URIrpm -i neon-0.27.2-1.i386.rpm rpm -i subversion-1.5.2-1.i386.rpmrpm -i mod_dav_svn-1.5.2-1.i386.rpmNext modify the apache conf file for our subversion repositories: /etc/httpd/conf.d/subversion.conf# Needed to do Subversion Apache server.LoadModule dav_svn_module modules/mod_dav_svn.so# Only needed if you decide to do &ldquo;per-directory&rdquo; access control.#LoadModule authz_svn_module modules/mod_authz_svn.so&lt;Location /svn> DAV svn SVNParentPath /var/www/svn # Limit write permission to list of valid users. # Require SSL connection for password protection. # SSLRequireSSL AuthType Basic AuthName &ldquo;EXAMPLE&rdquo; AuthBasicProvider sasl AuthSaslPwcheckMethod saslauthd auxprop AuthSaslAppname apache-httpd AuthSaslRealm example Require valid-user Next, create the subversion projects root and restart Apache:mkdir /var/www/svnchown -R apache.apache /var/www/svnservice httpd restartAt this point you can now create a test repository:svnadmin create /var/www/svn/testchown -R apache.apache /var/www/svn/testLet&rsquo;s test if subversion is working:svn info http://localhost/svn/testsvn mkdir &ndash;username myWindowsUsername &ndash;message &ldquo;a test commit&rdquo; http://localhost/svn/test/trunkAt this point we should have subversion up and running.</p></div></div><div class="f6 text-gray mt-2">Created
<relative-time datetime="Sat, 01 Nov 2008 00:00:00 +0000" class=no-wrap title=" Sat, 01 Nov 2008 00:00:00 +0000">Sat, 01 Nov 2008 00:00:00 +0000</relative-time></div></div></li><li class="col-12 d-flex width-full py-4 border-bottom color-border-secondary public source"><div class="col-12 d-inline-block"><div class="d-inline-block mb-1"><h3 class=wb-break-all><a href=https://stephenc.github.io/post/2008-10-01-acer-aspire-one-huawei-e169g-and-three-ir/>Acer Aspire One, Huawei E169G and Three IR</a></h3></div><div><div class="col-12 d-inline-block text-gray mb-2 pr-4"><p>One of my co-workers has asked me to post this up. It&rsquo;s rough and ready, so make of it what you want.First off, Acer recently pushed an update for better performance with the Huawei USB modems&mldr; I&rsquo;m assuming that you have this update&mldr; check if the file /etc/udev/rules.d/10-Huawei-Datacard.rules exists.If that file exists then when you plug in a E169g it will be correctly autodetected without requiring poking about with usbmodeswitch&mldr; it will bind the three serial ports of the E169G to /dev/HuaweiMobile-0, /dev/HuaweiMobile-1 and /dev/HuaweiMobile-2.OK, so assuming you see these device nodes after plugging in the E169G, the next problem is getting wvdial to connect. Here&rsquo;s the wvdial.conf file I use[Dialer Defaults]Init2 = ATZInit3 = ATHInit4 = ATQ0 V1 E1 S0=0 &amp;C1 &amp;D2 +FCLASS=0Stupid Mode = 1Modem Type = USB ModemISDN = 0Phone = *99#Modem = /dev/HuaweiMobile-0Username = usernamePassword = passwordDial Command = ATDTBaud = 460800Init5 = AT+CGDCONT=1,&ldquo;IP&rdquo;,&ldquo;3ireland.ie"By the way, the username is actually &ldquo;username&rdquo;, and the password is actually &ldquo;password&rdquo;.That should be enough to get any self-respecting linux freak 90% of the way there. There was some stuff I had to tweak to get DHCP to populate resolve.conf from the pppd connection&mldr; and I added the following udev rule as 70-huawei-e169g-dial.rulesSUBSYSTEM==&ldquo;usb&rdquo; SYSFS{idProduct}==&ldquo;1001&rdquo;,SYSFS{idVendor}==&ldquo;12d1&rdquo;,RUN+="/usr/sbin/e169g_dial"And, /usr/sbin/e169g_dial is just#!/bin/shsleep 5/usr/bin/wvdial 2>&amp;1 > /var/log/wvdial &amp;You might be able to tune down from 5 seconds if you can be bothered&mldr; but you need at least some delay</p></div></div><div class="f6 text-gray mt-2"><a class="muted-link mr-3" href=/tags/java><svg class="octicon octicon-tag" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M2.5 7.775V2.75a.25.25.0 01.25-.25h5.025a.25.25.0 01.177.073l6.25 6.25a.25.25.0 010 .354l-5.025 5.025a.25.25.0 01-.354.0l-6.25-6.25A.25.25.0 012.5 7.775zm-1.5.0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464.0.91.184 1.238.513l6.25 6.25a1.75 1.75.0 010 2.474l-5.026 5.026a1.75 1.75.0 01-2.474.0l-6.25-6.25A1.75 1.75.0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z"/></svg>
Java
</a><a class="muted-link mr-3" href=/tags/javaee><svg class="octicon octicon-tag" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M2.5 7.775V2.75a.25.25.0 01.25-.25h5.025a.25.25.0 01.177.073l6.25 6.25a.25.25.0 010 .354l-5.025 5.025a.25.25.0 01-.354.0l-6.25-6.25A.25.25.0 012.5 7.775zm-1.5.0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464.0.91.184 1.238.513l6.25 6.25a1.75 1.75.0 010 2.474l-5.026 5.026a1.75 1.75.0 01-2.474.0l-6.25-6.25A1.75 1.75.0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z"/></svg>
JavaEE
</a>Created
<relative-time datetime="Wed, 01 Oct 2008 00:00:00 +0000" class=no-wrap title=" Wed, 01 Oct 2008 00:00:00 +0000">Wed, 01 Oct 2008 00:00:00 +0000</relative-time></div></div></li></ul><div class=paginate-container><div class=BtnGroup><a rel=nofollow class="btn btn-outline BtnGroup-item" href=/post/page/3/>Previous</a>
<a rel=nofollow class="btn btn-outline BtnGroup-item" href=/post/page/5/>Next</a></div></div></div></div></div></div></div></div><script>window.onscroll=function(){const n=document.querySelector("#headerImg"),t=document.querySelector("#headerStuck");n.getBoundingClientRect().bottom<=0?(t.classList.add("is-stuck"),window.innerWidth>=1280?t.setAttribute("style","top: 12px;"):t.setAttribute("style","top: 0;")):t.classList.remove("is-stuck")};var style=localStorage.getItem("data-color-mode");githubIconElement=document.getElementById("github-icon"),twitterIconElement=document.getElementById("twitter-icon"),style=="light"?(githubIconElement&&githubIconElement.setAttribute("fill","#24292e"),twitterIconElement&&twitterIconElement.setAttribute("fill","black")):(githubIconElement&&(githubIconElement.removeAttribute("fill"),githubIconElement.setAttribute("class","octicon"),githubIconElement.setAttribute("color","#f0f6fc")),twitterIconElement&&twitterIconElement.setAttribute("fill","white"))</script></div><footer style="text-align:center;padding:20px;border-top:1px solid #eee;margin-top:40px"><p style=margin:0;color:#666;font-size:14px>Â© 2025 Stephen Connolly
| <a href=# onclick="return resetCookieConsent(),!1" style=color:#666;text-decoration:underline>Cookie Settings</a></p></footer><div id=cookie-consent-banner style="display:none;position:fixed;bottom:0;left:0;right:0;background:#333;color:#fff;padding:15px;text-align:center;z-index:9999;box-shadow:0 -2px 10px rgba(0,0,0,.3)"><div style="max-width:1200px;margin:0 auto"><p style="margin:0 0 10px;font-size:14px">This website uses Google Analytics to help analyze how visitors use this site. By continuing to browse this site, you agree to this use.
<a href=# style=color:#4caf50;text-decoration:underline onclick="return showCookieDetails(),!1">Learn more</a></p><div><button onclick=acceptCookies() style="background:#4caf50;color:#fff;border:none;padding:8px 16px;margin:0 5px;cursor:pointer;border-radius:4px">Accept</button>
<button onclick=declineCookies() style="background:#f44336;color:#fff;border:none;padding:8px 16px;margin:0 5px;cursor:pointer;border-radius:4px">Decline</button></div></div></div><div id=cookie-details-modal style=display:none;position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.5);z-index:10000><div style=position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:#fff;padding:20px;border-radius:8px;max-width:500px;width:90%><h3 style=margin-top:0>Cookie Information</h3><p>This website uses Google Analytics, which uses cookies to collect anonymous information about how visitors use this site. This information is used to improve the website experience.</p><p><strong>What data is collected:</strong></p><ul><li>Pages visited and time spent on pages</li><li>How you arrived at the site</li><li>General location (country/city level)</li><li>Device and browser information</li></ul><p>No personally identifiable information is collected. You can opt out at any time by declining cookies.</p><button onclick=hideCookieDetails() style="background:#2196f3;color:#fff;border:none;padding:8px 16px;cursor:pointer;border-radius:4px">Close</button></div></div><script>function getCookieConsent(){return localStorage.getItem("cookieConsent")}function setCookieConsent(e){localStorage.setItem("cookieConsent",e)}function loadGoogleAnalytics(){var t,e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-CEQZZXVE7Q",document.head.appendChild(e),t=document.createElement("script"),t.innerHTML=`
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-CEQZZXVE7Q', {
        anonymize_ip: true,
        cookie_flags: 'SameSite=None;Secure'
      });
    `,document.head.appendChild(t)}function acceptCookies(){setCookieConsent("accepted"),document.getElementById("cookie-consent-banner").style.display="none",loadGoogleAnalytics()}function declineCookies(){setCookieConsent("declined"),document.getElementById("cookie-consent-banner").style.display="none"}function showCookieDetails(){document.getElementById("cookie-details-modal").style.display="block"}function hideCookieDetails(){document.getElementById("cookie-details-modal").style.display="none"}function resetCookieConsent(){localStorage.removeItem("cookieConsent"),document.getElementById("cookie-consent-banner").style.display="block"}document.addEventListener("DOMContentLoaded",function(){var e=getCookieConsent();e==="accepted"?loadGoogleAnalytics():e==="declined"||(document.getElementById("cookie-consent-banner").style.display="block")})</script></body><script type=application/javascript src=https://stephenc.github.io/js/github-style.js></script><script src=https://cdn.jsdelivr.net/npm/fuse.js/dist/fuse.min.js></script><script type=application/javascript src=https://stephenc.github.io/js/search.js></script></html>